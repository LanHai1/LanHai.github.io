<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#33363b">
    <meta name="msapplication-TileColor" content="#33363b">
    
    
    
    
    <meta name="keywords" content="Life, ARIA, Hexo">
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    
    
    <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    
    
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#33363b">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="alternate" href="/atom.xml" title="LanHai bolg" type="application/atom+xml">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    
    <link rel="stylesheet" type="text/css" href="/css/sidebar.css">
    
    
<link rel="stylesheet" type="text/css" href="/css/page.css">
<link rel="stylesheet" type="text/css" href="/css/post.css">

    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/atom-one-dark.css">
    <link rel="stylesheet" type="text/css" href="/css/lightgallery.min.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script defer type="text/javascript" src="/js/util.js"></script>
    <script defer type="text/javascript" src="/js/clipboard.min.js"></script>
    <script defer type="text/javascript" src="/js/scrollspy.js"></script>
    <script defer type="text/javascript" src="/js/fontawesome-all.min.js"></script>
    <script defer type="text/javascript" src="/js/lightgallery.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-fullscreen.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-hash.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-pager.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-thumbnail.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-zoom.min.js"></script>
    
    <script defer src="/js/busuanzi.pure.mini.js"></script>
    
    
    <script defer type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
      var searchPath = "search.xml";
      if (searchPath.length === 0) {
        searchPath = "search.xml";
      }
      var path = "/" + searchPath;
      searchFunc(path, "search-input", "search-result");
    });
    </script>
    
    
    <script defer type="text/javascript" src="/js/index.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
      var cb = null;
      var els = $(".post figure.highlight");
      if (els.length) {
        // Enabled Hexo highlight line number.
        $(els).each(function (i, e) {
          $(e).before("<button class=\"copy button\">Copy</button>");
        });
        cb = new ClipboardJS("button.copy", {
          "target": function (trigger) {
              // Get target element by DOM API.
              // nextElementSibling is figure,highlight.
              // And following is the sequence of Hexo's internal
              // highlight layout with line number.
              return trigger.nextElementSibling.firstChild.firstChild.firstChild.lastChild.firstChild.firstChild;
          }
        });
      } else {
        // Disabled Hexo highlight line number.
        els = $(".post pre code");
        $(els).each(function (i, e) {
          // Add button before pre, not code.
          $(e).parent().before("<button class=\"copy button\">Copy</button>");
        });
        cb = new ClipboardJS("button.copy", {
          "target": function (trigger) {
              // Get target element by DOM API.
              // nextElementSibling is figure,highlight.
              // And following is the sequence of Hexo's internal
              // highlight layout without line number.
              return trigger.nextElementSibling.firstChild;
          }
        });
      }
      cb.on("success", function (e) {
        e.clearSelection();
        var trigger = e.trigger;
        // Change button text as a user tip.
        trigger.innerHTML = "Copied";
        $(trigger).addClass("copied");
        // Change button text back;
        setTimeout(function () {
          trigger.innerHTML = "Copy";
          $(trigger).removeClass("copied");
        }, 1500);
      });
    });
    </script>
    
    <script defer type="text/javascript" src="/js/custom.js"></script>
    <title>LanHai bolg</title>
  </head>
  <body itemscope itemtype="http://schema.org/WebPage" lang="default" data-spy="scroll" data-target=".list-group">
    
<header id="header" class="header" style="background: #33363b;">
  <div class="container">
    <div class="header-container">
      <div class="header-title">
        <h1 class="title"><a href="/">LanHai bolg</a></h1>
        <h2 class="subtitle"></h2>
      </div>
      
      <div class="logo">
        <img src="/images/lanhailogo.png" alt="logo">
      </div>
      
    </div>
    <nav id="nav" class="nav">
      <a id="nav-toggle" class="nav-toggle" aria-hidden="true"><i class="fas fa-bars" aria-label="Toggle Navbar"></i></a>
      <ul id="menu" role="menubar" aria-hidden="false">
        
        <li role="menuitem"><a href="/" class="current"><i class="fas fa-home"></i><span class="menu-text">首页</span></a></li>
        
        <li role="menuitem"><a href="/archives/"><i class="fas fa-archive"></i><span class="menu-text">文章</span></a></li>
        
      </ul>
    </nav>
  </div>
</header>


    <main id="main" class="main">
      <div class="container">
        <div class="main-container">
          <div class="content">
            

<div id="index" class="index page">
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/animation/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/animation/" itemprop="url">animation动画</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T12:02:09+08:00">2019-05-24 12:02:09</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>做了个类似jquery的动画函数封装<br><code>gitDemo =&gt;</code><a href="https://github.com/LanHai1/animation" target="_blank" rel="noopener">https://github.com/LanHai1/animation</a><br><img src="https://upload-images.jianshu.io/upload_images/12946880-5f2fe63703015a6b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul>
<li>三参数<pre><code>el 动画元素
attrs 动画属性{key:value}
callback 回调函数
</code></pre></li>
<li>1- 每次调用前先清除动画定时器 el.timeId</li>
<li>2- 开启定时器</li>
<li>3- 声明一个flag 属性是否全部到达目标点</li>
<li>4- forin attrs<pre><code>判断key 是否是透明度 处理
    获取元素当前状态 * 100
    元素目标状态 * 100
    每次执行步数
        (目标位置-当前位置)/10
            目标大于当前 向上取整 Math.ceil
            目标小于当前 向下取整 Math.floor
        当前位置 += 每次执行步数
    当前位置 / 100
    设置元素样式
    判断是否还有值未到达目标点
        (target / 100 != current)
</code></pre></li>
<li>flag = false<pre><code>其他属性处理
    获取元素当前状态 =&gt; 取整
    元素目标状态
    每次执行步数
        (目标位置-当前位置)/10
            目标大于当前 向上取整 Math.ceil
            目标小于当前 向下取整 Math.floor
        当前位置 += 每次执行步数
    设置元素样式
    判断是否还有值未到达目标点
        (target  != current)
</code></pre></li>
<li>flag = false</li>
<li>5- 判断是否全部到达目标点<pre><code>清除动画定时器 el.timeId
判断callback是否是函数
    调用callback
</code></pre><h4 id="xmind图解"><a href="#xmind图解" class="headerlink" title="xmind图解"></a>xmind图解</h4><img src="https://upload-images.jianshu.io/upload_images/12946880-86d67db50215f532.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br><code>样式</code><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-color: pink;</span><br><span class="line">    position: absolute;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.box1 &#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    background-color: hotpink;</span><br><span class="line">    position: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>结构</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;button&quot; value=&quot;点击400&quot; id=&quot;btn1&quot;&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;点击800&quot; id=&quot;btn2&quot;&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;box1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p><code>行为</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">let box = document.querySelector(&quot;.box&quot;);</span><br><span class="line">let box1 = document.querySelector(&quot;.box1&quot;);</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 根据id获取元素</span><br><span class="line"> * @param &#123;string&#125; id </span><br><span class="line"> */</span><br><span class="line">let $ = id =&gt; document.getElementById(id);</span><br><span class="line"></span><br><span class="line">$(&quot;btn1&quot;).onclick = function() &#123;</span><br><span class="line">    animation_s(box, &#123;</span><br><span class="line">        width: 300,</span><br><span class="line">        height: 600</span><br><span class="line">    &#125;, () =&gt; &#123;</span><br><span class="line">        animation_s(box, &#123;</span><br><span class="line">            left: 100,</span><br><span class="line">            opacity: 0.3</span><br><span class="line">        &#125;, () =&gt; &#123;</span><br><span class="line">            animation_s(box1, &#123;</span><br><span class="line">                left: 500,</span><br><span class="line">                height: 10</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">$(&quot;btn2&quot;).onclick = () =&gt; &#123;</span><br><span class="line">    animation_s(box1, &#123;</span><br><span class="line">        left: 500,</span><br><span class="line">        height: 10</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 缓动动画</span><br><span class="line"> * @param &#123;element&#125; el </span><br><span class="line"> * @param &#123;attributeJson&#123;key:value&#125;&#125; attrs </span><br><span class="line"> * @param &#123;fn&#125; callback </span><br><span class="line"> */</span><br><span class="line">function animation_s(el, attrs, callback) &#123;</span><br><span class="line">    // 每次调用前先清除已有的定时器</span><br><span class="line">    clearInterval(el.timeId);</span><br><span class="line">    el.timeId = setInterval(() =&gt; &#123;</span><br><span class="line">        // 全部到达目标点</span><br><span class="line">        let flag = true;</span><br><span class="line">        for (const key in attrs) &#123; // 还需考虑其他属性的处理 如background-color...</span><br><span class="line">            if (key == &quot;opacity&quot;) &#123; // 透明度处理</span><br><span class="line">                // 元素当前状态</span><br><span class="line">                let current = +(window.getComputedStyle(el)[key]) * 100;</span><br><span class="line">                // 元素目标状态</span><br><span class="line">                let target = attrs[key] * 100;</span><br><span class="line">                // 每次执行步数</span><br><span class="line">                // 目标大于当前 向上取整 =&gt; 目标小于当前 向下取整</span><br><span class="line">                let temp = target &gt; current ? Math.ceil((target - current) / 10) : Math.floor((target - current) / 10);</span><br><span class="line">                current += temp;</span><br><span class="line">                current = current / 100;</span><br><span class="line">                // 设置元素样式</span><br><span class="line">                el.style[key] = `$&#123;current&#125;`;</span><br><span class="line">                // 判断是否全部到达目标点</span><br><span class="line">                if (target / 100 != current) &#123;</span><br><span class="line">                    flag = false;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // 元素当前状态</span><br><span class="line">                let current = parseInt(window.getComputedStyle(el)[key]);</span><br><span class="line">                // 元素目标状态</span><br><span class="line">                let target = attrs[key];</span><br><span class="line">                // 每次执行步数</span><br><span class="line">                // 目标大于当前 向上取整 =&gt; 目标小于当前 向下取整</span><br><span class="line">                let temp = target &gt; current ? Math.ceil((target - current) / 10) : Math.floor((target - current) / 10);</span><br><span class="line">                current += temp;</span><br><span class="line">                // 设置元素样式</span><br><span class="line">                el.style[key] = `$&#123;current&#125;px`;</span><br><span class="line">                // 判断是否全部到达目标点</span><br><span class="line">                if (target != current) &#123;</span><br><span class="line">                    flag = false;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (flag) &#123;</span><br><span class="line">            clearInterval(el.timeId);</span><br><span class="line">            // 回调函数</span><br><span class="line">            if (callback instanceof Function) &#123;</span><br><span class="line">                callback();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, 20)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/Front-end/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/Front-end/" itemprop="url">前端题 n道</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T12:00:04+08:00">2019-05-24 12:00:04</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <hr>
<h4 id="基础强化"><a href="#基础强化" class="headerlink" title="基础强化"></a>基础强化</h4><hr>
<ul>
<li><ol>
<li>聊一聊前端存储。<br>(1)老朋友cookie<br>(2)短暂的sessionStorage<br>(3)简易强大的localStorage<br>(4) websql 与indexeddb<br>详细见 <a href="https://segmentfault.com/a/1190000005927232" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005927232</a></li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="2">
<li>BFC<br>(1) w3c 规范中的 BFC 定义<br>浮动元素和绝对定位元素，非块级盒子的块级容器（例如 inline- blocks, table-cells，和 table- captions），以及 overflow 值不为 visiable’的块级盒子，都会为他们的内容创建新的BFC（块级格式上下文）。<br>在 BFC 中，盒子从顶端开始垂直地一个接一个地排列，两个盒子之间的垂直的间隙是由他们的 margin 值所決定的。在一个 BFC 中，两个相部的块级盒子的垂直外边距会产生折叠。<br>在 BFC 中，每一个盒子的左外边缘（margin-left）会触碰到容器的左边缘（border-left)（对于从右到左的格式来说，则触碰到右边缘）。<br>(2) BFC 的通俗理解：<br>首先 BFC 是一个名词，是一个独立的布局环境，我们可以理解为一个箱子（实际上是看不见 摸不着的），箱子里面物品的摆放是不受外界的影响的。转换为 BFC 的理解则是：BFC 中的元素的布局是不受外界的影响（我们往往利用这个特性来消除浮动元素对其非浮动的兄弟元素和其子元素带来的影响。）并且在一个 BFC 中，块盒与行盒（行盒由一行中所有的内联元素所组成）都会垂直的沿着其父元素的边框排列。<br>详细参见<br><a href="http://www.w3cplus.com/css/understanding-bfc-and-margin-collapse.html" target="_blank" rel="noopener">http://www.w3cplus.com/css/understanding-bfc-and-margin-collapse.html</a><br><a href="https://www.zhihu.com/question/28433480" target="_blank" rel="noopener">https://www.zhihu.com/question/28433480</a></li>
</ol>
</li>
</ul>
<hr>
<h4 id="前端工程化"><a href="#前端工程化" class="headerlink" title="前端工程化"></a>前端工程化</h4><hr>
<ul>
<li><ol start="3">
<li>场景：你是第一天来公司上班的，项目代码托管在 Gitlab，项目地址: <a href="mailto:`gt@lab.com" target="_blank" rel="noopener">`gt@lab.com</a>: org/project.gt<code>，现在有一处代码需要你修改。请下完成此项任务中，与 git/gitlab相关的操作步骤。
第一步：</code>$&gt; <a href="mailto:ssh-keygen-trss-zhangsan@abc.com" target="_blank" rel="noopener">ssh-keygen-trss-zhangsan@abc.com</a> <code>第二步：</code>拷贝公钥到 gitlab <code>第三步：</code>$&gt; git config -global user name zhangsan<code>=&gt;</code>$&gt; <a href="mailto:gitconfig-globaluser.emailzhangsan@abc.com" target="_blank" rel="noopener">gitconfig-globaluser.emailzhangsan@abc.com</a> <code>第四步：</code>$&gt; gitclonegit (@lab. com:org/project.git<code>第五步：</code>$&gt; git checkout -b project-20170227- zhangsan- bugfix <code>第六步：</code>修改代码<code>第七步：</code>git status <code>第八步：</code>git add<code>第九步：</code>git commit- am ‘ bugfix<code>第十步：</code>git push- set-upstream origin project20170227- zhangsan- bugfix`</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="4">
<li>CSS, JS 代码压缩，以及代码 CDN 托管，图片整合。<br>(1) CSS, JS 代码压缩<br>可以应用 gulp 的 gulp- uglify, gulp- minify-CSs 模块完成；可以应用 webpackf 的 Uglify Jsplugin 压缩插件完成。<br>(2) CDN<br>内容分发网络（CDN）是一个经策略性部署的整体系统，包括分布式存储、负载均衡、网络请求的重定向和内容管理 4 个要件。主要特点有：本地 Cache 加速，镜像服务，远程加速，带宽优化。关键技术有：内容发布，内容路由，内容交换，性能管理。CDN 网站加速适合以咨询为主的网站。CDN 是对域名加速不是对网站服务器加速。CDN 和镜像站比较不需要访客手动选择要访问的镜像站。CDN 使用后网站无需任何修改即可使用 CDN 获得加速效果。如果通过 CDN 后看到的网页还是旧网页，可以通过 URL 推送服务解決，新增的网页和图片不需要 URL 推送。使用动态网页可以不缓存即时性要求很高的网页和图片。CDN 可以通过 gt 或 SVN 来管理<br>(3) 图片整合<br>减少网站加载时间的最有效的方式之一就是減少网站的 HTPい请求数。实现这一目标的一个有效的方法就是通过 CSS Spritesーー将多个图片整合到一个图片中，然后再用 CSS来定 位。缺点是可维护性差。可以使用百度的 fis/webpack 来自动化管理 sprite</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="5">
<li>如何利用 webpack 把代码上传服务器以及转码测试？<br>(1) 代码上传<br>可以使用 sftp-webpack-plugin，但是会把子文件夹给提取出来，不优雅。可以使用 gulp + webpack 来实现<br>(2) 转码测试<br>webpack 应用 babel 来对 ES6 转码，开启 devtool: “source-map”来进行浏览器测试。应用 karma 或 mocha 来做单元测试。</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="6">
<li>项目上线流程是怎样的？<br>(1) 流程建议<br><code>模拟线上的开发环境</code><br>本地反向代理线上真实环境开发即可。（apache, nginx, modest 均可实现）<br><code>模拟线上的测试环境</code><br>模拟线上的测试环境，其实是需要一台有真实数据的測试机，建议没条件搭 daily 的，就直接用线上数据测好了，只不过程序部分走你们的測试环境而已，有条件搭 daly 最好。<br><code>可连调的测试环境</code><br>可连调的测试环境，分为 2 种。一种是开发测试都在一个局域网段，直接绑 hosts 即可，不在一个网段，就每人分配一台虚拟的测试机，放在大家都可以访问到的公司内网，代码直接往上布即可。<br><code>自动化的上线系统</code><br>自动化的上线系统，可以采用 Jenkins。如果没有，可以自行搭建一个简易的上线系统，原理是每次上线时都抽取最新的 tunk 或 master，做一个 tag，再打一个时间戳的标记，然后分发到 cdn 就行了。界面里就 2 个功能，打 tag，回滚到某 tag，部署。<br><code>适合前后端的开发流程</code><br>开发流程依据公司所用到的工具，构建，框架。原则就是分散独立开发，互相不干扰，连调时有 hosts。可绑即可。<br>(2) 简单的可操作流程<br>代码通过 gt 管理，新需求创建新分支，分支开发，主干发布<br>上线走简易上线系统<br>通过 gulp+ webpack 连到发布系统，一键集成，本地只关心原码开发<br>本地环境通过 webpack 反向代理的 server<br>搭建基于 linux 的本地測试机，自动完成 build+push 功能</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="7">
<li>工程化怎么管理的？<br>gulp 和 webpack<br><img src="https://upload-images.jianshu.io/upload_images/12946880-ea0d9c7ec5c076a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></li>
</ol>
</li>
</ul>
<hr>
<ol start="8">
<li>git 常用命令<br>Workspace：工作区<br>Index/ Stage：暂存区<br>Repository：仓库区（或本地仓库）<br>Remote：远程仓库<br>详细参见：<a href="http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html</a></li>
</ol>
<hr>
<ul>
<li><ol start="9">
<li>Webpack 和 gulp 对比<br>Gulp 就是为了规范前端开发流程，突现前后端分离、模块化开发、版本控制、文件合并与压缩、mock 数据等功能的一个前端自动化构建工具。说的形象点，”Gulp 就像是一个产品的流水线，整个产品从无到有，都要受流水线的控制，在流水线上我们可以对产品进行管理。”另外，Gup 是通过 task 对整个开发过程进行构建。<br>Webpack 是当下最热门的前端资源模块化管理和打包工具。它可以将许多松散的模块按照依赖和规则打包成符合生产环境部署的前端资源。还可以将按需加载的模块进行代码分隔等到实际需要的时候再异步加载。通过 loaders 的转换，任何形式的资源都可以视作模块，七如 Commonjs 模块、AMD 模块、ES6 模块、CSS、图片、JSON、Coffeescript、LESS 等<br>Gulp 和 Webpack 功能实现对比：从基本概念、启动本地 server、sass/less 预编译、模块化开发、文件合并与压缩、mock 数据、版本控制、组件控制八个方面对 Gulp 和 Webpack 进行对比。<br>详细参见 <a href="http://www.tuicool.com/articles/e632EbA" target="_blank" rel="noopener">http://www.tuicool.com/articles/e632EbA</a></li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="10">
<li>Webpack 打包文件太大怎么办？<br>webpack 把我们所有的文件都打包成一个 JS 文件，这样即使你是小项目，打包后的文件也会非常大。可以从去除不必要的插件，提取第三方库，代码压缩，代码分割，设置缓存几个方面着手优化。<br>详细参见<a href="http://www.jianshu.com/p/a64735eb0e2b" target="_blank" rel="noopener">http://www.jianshu.com/p/a64735eb0e2b</a></li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="11">
<li>不想让别人盗用你的图片，访问你的服务器资源该怎么处理？<br>目前常用的防盗链方法主要有两种：<br>(1) 设置 Referer：适合不想写代码的用户，也适合喜欢开发的用户<br>(2) 签名 URL：适合喜欢开发的用户<br>详细参见: <a href="https://yq.aliyun.com/articles/57931" target="_blank" rel="noopener">https://yq.aliyun.com/articles/57931</a></li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="12">
<li>精灵图和 base64 如如何选择？<br>css 精灵，用于一些小的图标不是特别多，一个的体积也稍大，比如大于 10 K（这个没有严格的界定）。<br>base64, 用于小图标体积较小（相对于 css 精灵），多少都无所谓。字体图标，用于一些别人做好的图标库（也有少数自己去做的）用起来比较方便，他的图标只能用于单色，图标用只能于一种颜色。</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="13">
<li>webpack怎幺引入第三方的库?<br>jQuery实例: <figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">page: &apos;path/to/page.js&apos;,</span><br><span class="line">jquery: &apos;node_modules/jquery/dist/jquery.min.js&apos; &#125;</span><br><span class="line">new HtmlWebpackPlugin(&#123; </span><br><span class="line">filename: &apos;index.html&apos;, </span><br><span class="line">template: &apos;index.html&apos;,</span><br><span class="line">inject: true,</span><br><span class="line">chunks: [&apos;jquery&apos;, &apos;page&apos;] // script </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="15">
<li>用过Nginx吗?都用过哪些?<br>nginx是一个高性能的HTTP和反向代理服务器。<br>常使用场景:<br>(1)反向代理<br>(2)网站负载均衡<br>详细参见: <a href="http://www.cnblogs.com/hobinly/p/6023883.html" target="_blank" rel="noopener">http://www.cnblogs.com/hobinly/p/6023883.html</a></li>
</ol>
</li>
</ul>
<hr>
<h4 id="移动端布局与适配"><a href="#移动端布局与适配" class="headerlink" title="移动端布局与适配"></a>移动端布局与适配</h4><hr>
<ul>
<li><ol start="16">
<li>iscroll安卓低版本卡顿,<br><code>如何解决?</code><br>方案一: iScroll v5.1 .3设置momentum: true<br>方案二:配置probeType<br>方案三:开启硬价加速:给scroll元素 增加css样式: -webkit-transform:translate3d(0,0,0);<br>方案四:判断手机版系统版本，应用原生CSS: overflow:scroll-y</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><ol start="17">
<li>移动布局自适应不同屏幕的几种方式<br>(1)响应式布局<br>(2) 100%布局(弹性 布局)<br>(3)等比缩放布局(rem)</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li>20.你们做移动端平时在什么浏览器上测试?<br>Chrome, Safari, 微信X5，UC,其他手机自带浏览器</li>
</ul>
<hr>
<ul>
<li>21.说说移动端是如何调试的?<br><code>移动端调试:</code><br>(1)模拟手机调试<br>(2)真机调试之android手机+Chrome<br>(3)真机调试之iphone + safari<br>(4) UC浏览器<br>(5)微信内置浏览器调试<br>(6) debuggap<br>(7)抓包<br>详细参考:  <a href="https://segmentfault.com/a/1190000005964730" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005964730</a></li>
</ul>
<hr>
<ul>
<li>22.说说ICONFONT是如何用的?<br>从以下几个方面做答:<br>(1) font-face<br>(2)什么是iconfont,iconfont怎么用<br>(3) iconfont怎 么做<br>(4) iconfont的利和弊<br>详细参见:  <a href="https://segmentfault.com/a/1190000005904616?_ea=953657" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005904616?_ea=953657</a></li>
</ul>
<hr>
<ul>
<li>23.说说移动端Web分辨率<br>从以下几个方面做答:<br>(1) PC到移动，渲染的变迁<br>(2)可以更改的布局宽度<br>(3)再次变迁的像素<br>(4)又一次变迁<br>(5)是时候说说安卓了<br>详细参见: <a href="https://segmentfault.com/a/1190000005884985" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005884985</a></li>
</ul>
<hr>
<h4 id="性能和效率"><a href="#性能和效率" class="headerlink" title="性能和效率"></a>性能和效率</h4><hr>
<ul>
<li>24.你平时如何评测你写的前端代码的性能和效率。<br>Chrome Dev Tools的Timeline:是用来排查应用性能瓶颈的最佳工具。<br>Chrome Dev Tools的Audits:对页面性能进行检测，根据测试的结果进行优化。<br>第三方工具Yslow。<br>详细参见:<br><a href="http://www.cnblogs.com/-simon/p/5883336.html" target="_blank" rel="noopener">http://www.cnblogs.com/-simon/p/5883336.html</a> <a href="http://blog.csdn.net/ivan0609/article/details/45508365" target="_blank" rel="noopener">http://blog.csdn.net/ivan0609/article/details/45508365</a> <a href="http://www.wtoutiao.com/p/1305TZW.html" target="_blank" rel="noopener">http://www.wtoutiao.com/p/1305TZW.html</a></li>
</ul>
<hr>
<ul>
<li>25.如何优化页面，加快页面的加载速度(至少5条)<br>(1)优化图片资源的格式和大小<br>(2)开启网络压缩<br>(3)使用浏览器缓存<br>(4)减少重定向请求<br>(5)使用CDN存储静态资源<br>(6)减少DNS查询次数<br>(7)压缩css和js内容<br>详细参见: <a href="http://www.mahaixiang.cn/wyzz/1589.html" target="_blank" rel="noopener">http://www.mahaixiang.cn/wyzz/1589.html</a></li>
</ul>
<hr>
<ul>
<li>26.怎么保证多人开发进行内存泄漏的检查(内存 分析<br>工具)<br>使用xcode里面的Analyze进行静态分析，为避免不必要的麻烦，多人开发的时候尽量使用<br>ARC。<br>详细参见: <a href="http://www.jianshu.com/p/424c15b9b73a" target="_blank" rel="noopener">http://www.jianshu.com/p/424c15b9b73a</a></li>
</ul>
<hr>
<ul>
<li>28.浏览器http请求过多怎么解决?<br>(1) 合并JS、CSS文件<br>(2)合并图片css sprite<br>(3)使用Image maps<br>(4) data嵌入 图片:如base64<br>(5)使用CDN,减少http请求头</li>
</ul>
<hr>
<h4 id="Web安全"><a href="#Web安全" class="headerlink" title="Web安全"></a>Web安全</h4><hr>
<ul>
<li>29.你所了解到的Web攻击技术<br>(1) XSS攻击<br>(2) CSRF攻击<br>(3)网络劫持攻击<br>(4)控制台注入代码<br>(5)钓鱼<br>详细参见:  <a href="http://blog.csdn.net/fengyinchao/article/details/52303118" target="_blank" rel="noopener">http://blog.csdn.net/fengyinchao/article/details/52303118</a></li>
</ul>
<hr>
<ul>
<li>30.如何防止XSS攻击?<br>(1)将前端输出数据都进行转义<br>(2)将输出的字符串中的反斜杠进行转义<br>(3)从urI中获取的信息，防止方法是由后端获取，在前端转义后再行输出<br>(4)使用cookie的HttpOnly属 性,保护好cookie<br>详细参见:<a href="http://blog.csdn.net/fengyinchao/article/details/52303118" target="_blank" rel="noopener">http://blog.csdn.net/fengyinchao/article/details/52303118</a></li>
</ul>
<hr>
<ul>
<li>31.项目中有没有用过加密，哪种加密算法?<br><code>项目中没有用过，但我了解几个加密算法:</code><br>(1) RSA加密<br>(2) MD5加密<br>(3) SHA256加密 </li>
</ul>
<hr>
<ul>
<li>32.聊一聊网页的分段传输与渲染<br><code>从下面几个方面说:</code><br>(1) CHUNKED编码<br>(2) BIGPIPE<br>(3)分段传输与bigpipe适用场景<br>详细参见: <a href="https://segmentfault.com/a/1190000005989601?_ea=984496" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005989601?_ea=984496</a></li>
</ul>
<hr>
<ul>
<li>33.百度移动端首页秒开是如何做到的?<br><code>从几个方面优化:</code><br>(1) 静态文件放置<br>(2) 缓存<br>(3)外链<br>(4)缓存DOM<br>(5)使用iconfont<br>(6)卡片的异步加载与缓存<br>(7)不在首屏的就要异步化<br>(8)少量静态文件的域名<br>详细参见: <a href="https://segmentfault.com/a/1190000005882953" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005882953</a></li>
</ul>
<hr>
<ul>
<li>34.前端速度统计(性 能统计)如何做?<br>回答下面的两个问题,<br>(1)网站都有哪些指标?<br>(2)如何统计自己网站的这些指标?<br>详细参见: <a href="https://segmentfault.com/a/1190000005869953" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005869953</a></li>
</ul>
<hr>
<h4 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h4><ul>
<li>35.如果让你来制作一个访问量 很高的大型网站，你会如何来管理所有css、js文件、图片?<br>(1) 遵循自定的一套CSS, JS和图片文件和文件夹命名规范<br>(2)依托采用的前端工程化工具,依照工具脚手架规范(gulp, webpack, grunt, yeoman)<br>(3)依据采用的框架规范(Vue, React, jQuery)</li>
</ul>
<hr>
<ul>
<li>36.如果没有框架、怎么搭建你的项目<br><code>应用原生JS自己尝试搭建一个MVC架构:</code><br>(1)基本模块<br>common:公共的一组件，下面的各 模块都会用到<br>config:配置模块，解决框架的配置问题<br>startup:启动模块，解决框架和Servlet如何进行整合的问题<br>plugin:插件模块，插件机制的实现，提供IPlugin的抽象实现<br>routing:路由模块，解决请求路径的解析问题，提供了lRoute的抽象实现和基本实现<br>controller:控制器模块，解决的是如何产生控制器<br>model:视图模型模块,解决的是如何绑定方法的参数<br>action: action模块， 解决的是如何调用方法以及方法返回的结果，提供了lActionResult的抽象实现和基本实现<br>view:视图模块，解决的是各种视图引擎和框架的适配<br>filter:过滤器模块，解决是执行Action,返回IActionResult前后的AOP功能，提供了lFilter<br>的抽象实现以及基本实现<br>(2) 扩展模块<br>filters: 一些IFiter的实现<br>results:一些IActionResult的实现<br>routes:一些IRoute的实现<br>plugins:一些IPlugin的实现<br>详细参考 <a href="http://www.cnblogs.com/lovecindywang/p/4444915.html" target="_blank" rel="noopener">http://www.cnblogs.com/lovecindywang/p/4444915.html</a></li>
</ul>
<hr>
<ul>
<li>37.在选择框架的时候要从哪方面入手<br><code>影响团队技术选型有很多因素，如技术组成，新技术，新框架，语言及发布等。为了更好的考量不同的因素，需要列出重要的象限， 如开发效率、团队喜好，依次来决定哪个框架更适合当前的团队和项目。上线时间影响框 架选择,不要盲目替换现有框架。</code><br>(1) jQuery<br>项目功能比较简单。并不需要做成一个单页面应用，就不需要MV*框架。项目是一个遗留系统。与其使用其他框架来替换，不如留着以后重写项目。<br>(2) AngularJS<br>当我们在制作一个应用，它对性能要求不是很高的时候，那么我们应该选择开发速度更快的技术栈AngularJS,她拥有混合开发能力的ionic框架。对于复杂的前端应用来说，基于Angular.js应用的运行效率，仍然有大量地改进空间。Angular2需 要学习新的语言，需慎重选择。<br>(3) React<br>选择React有两个原因，一是通过Virtual DOM提高运行效率，二是通过组件化提高开发效率。大型项目首选。选择React还有一个原因是: React Native、React VR等等，可以让React运行在不同的平台之上。我们还能通过React轻松编写出原生应用，还有VR应用。令人遗憾的是React只是一个View层，它是为了优化DOM的操作而诞生的。为了完成一个完整的应用，我们还需要路由库、执行单向流库、web API调用库、测试库、依赖管理库等等，为了完整搭建出一个完整的React项目，我们还需要做大量的额外工作。<br>(4) Vue.js<br>对于使用Vue.js的开发者来说，我们仍然可以使用熟悉的HTML和CSS来编写代码。并且，Vue.js 也使用了Virtual DOM、Reactive 及组件化的思想，可以让我们集中精力于编写应用，而不是应用的性能。对于没有Angular和React经验的团队，并且规模不大的前端项目来说，Vue.js 是一个非常好的选择。<br>详细参见: <a href="https://zhuanlan.zhihu.com/p/25194137" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/25194137</a></li>
</ul>
<hr>
<ul>
<li>38.聊一聊前端模板与渲染<br>(1)页面级的渲染，后端模板<br>如smarty,这种方式的特点是展示数据快，直接后端拼装好数据与模板，展现到用户面前，对SEO友好。<br>(2)异步的请求与新增模板，前端模板<br>如Mustache, ArtTemplate, 前端解析模板的引擎的语法，与后端解析模板引擎语法一致。这样就达到了一份HTML前后端一起使用的效果。<br>详细参见: <a href="https://segmentault.com/a/1190000005916423" target="_blank" rel="noopener">https://segmentault.com/a/1190000005916423</a></li>
</ul>
<hr>
<h4 id="混合开发"><a href="#混合开发" class="headerlink" title="混合开发:"></a>混合开发:</h4><ul>
<li>39.UIWebView和JavaScript之间是怎么交互的?<br>UIWebView是ioS SDK中渲染网面的控件，在显示网页的时候，我们可以hack网页然后显示想显示的内容。其中就要用到JavaScript的知识，而UIWebView 与javascript交互的方法就是stringByEvaluatingJavaScriptFromString:<br>有了这个方法我们可以通过objc调用javascript,可以注入javascript。<br>Js调用OC方法原理就是利用UIWebView重定向请求，传-些命令到我们的UlWebView,在UlWebView的delegate的方法中接收这些命令，并根据命令执行相应的objc方法。这样就相当于在javascript中调用objc的方法。<br>在android中，我们有固有组件webview,经过设置可以让它支持我们的js的渲染，然<br>后在代码中设置(WebViewClient/WebChromeClient) 让应用跳转页面时在本webview中跳<br>转，通过webview.loadurl (String str)方法可以在需要的地方加载我们前端的页面或者调用前端所定义的方法(wv.loadUrl(“javascript:sendData ToAndroid(我是来自js的呦，你看到了吗”;)，我们再通过JavascriptInterface接口设置我们前端和android通讯的标识，wv.addJavascriptlnterface(new MJavascriptinterface(getApplicationContext()),<br>“WebViewFunc”);<br>这样前端就可以在页面上调用我们的方法了，fun1方 法是在android中定义的<br>Window.WebViewFunc.fun1();<br>总之，前端和android或 者ios进行结合开发，我们称之为混合开发，原理就是在原生的开发语言中，我们提供了-个组件webview,这个组件就是我们的原生语言的浏览器，但是我们得自行设置让其能够完美支持我们的应用，需要设置对应的标识，然后连接起来，我们称之为JavascriptInterfac。</li>
</ul>
<hr>
<ul>
<li>40.混合开发桥接api是怎么调用的，需要引入类库嘛?<br>调用的对象是什么?<br>Hybrid框架结构<br>HyBrid App = H5 App + Native框架<br>H5App用来实现功能逻辑和页面渲染<br>Native框架提供WebView和设备接口供H5调用<br>方案一重混合应用，在开发原生应用的基础上，嵌入WebView但是整体的架构使用原生应用提供，- -般这样的开发由Native开发人员和Web前端开发人员组成。Native开发人员会写好基本的架构以及API让Web开发人员开发界面以及大部分的渲染。保证到交互设计，以及开发都有一个比较折中的效果出来，优化得好也会有很棒的效果。Hybrid App技术发展的早期，Web的运行性能成为主要 瓶颈!为解决性能问题Hybrid App走向“重混”。<br>通过多WebView:实现流畅的多页加载和专场动画。<br>使用Navtive UI组件:框架、菜单、日期等。<br>“重混”的优缺点<br>优点:<br>提升了运行性能<br>增强了交互体验<br>缺点:<br>Web和Native技术交叉混杂<br>需要同时掌握Web和Native技术，学习难度增加<br>一个页面有Web组件也有Native组件，编程 调试困难需要引入各自需要的各种依赖工具<br>方案二:轻混合应用，使用PhoneGap、AppCan之 类的中间件，以WebView作为用户界面层，以Javascript作为 基本逻辑,以及和中间件通讯，再由中间件访问底层API的方式，进行应用开发。这种架构一般会非常依赖WebView层的性能。<br>随着时代的发展，手机硬件、 浏览器技术、无线网络技术都得到了大幅的提升，H5已经可以支持复杂应用，并拥有良好的运行性能。使用轻混方案的App也越来越多。<br>目前我们要学习的Hybrid App开发就是方案二，使用H5+Js+Native框架开 发当前轻混合应用。<br>Phonegap引入phonegap.js或者cordova.js,对象为navigator<br>Dcloud引入引入mui.js或者其他的js组件，对象为plus<br>apiloud引入各种第三方插件，对象为api<br>顺变提一下，2012年8月，微信公众平台的.上线，重新定义了移动应用:移动应用<br>= Iphone App + Android App +微信App</li>
</ul>
<hr>
<ul>
<li><ol start="41">
<li>说一下你对支付，推送(远程，本地)的理解.<br>消息的推送主要有两种:<br>一种是本地推送，主要应用在系统的工具中，例如:闹钟，生日提醒等;实现本地推送需要以下三个步骤:<br>1.实例化一个本地推送对象<br>2.设置通知对象的各个属性<br>3.添加本地推送对象<br>一种是远程消息推送，主要应用联网设备的信息推送，例如:邮件，各种软件的广告或优惠信息的推送。远程推送比较复杂，需要使用开发者账号进行申请证书，获得实现推送功能的配置文件，所以想要实现远程推送功能，必须要有开发者账号并且生成<br>配置文件<br>1.完成证书的申请和Xcode的配置<br>2.在Demo中注册远程服务对象，并设置其代理<br>3.找一个简单的App服务器进行消息推送(推荐使用:PushMeBaby, gitup网站 上就<br>有)<br>4.运行PushMeBaby<br>参考网址: <a href="http://blog.csdn.net/u014642572/article/details/26857717" target="_blank" rel="noopener">http://blog.csdn.net/u014642572/article/details/26857717</a><br>远程推送流程图如下<br><img src="https://upload-images.jianshu.io/upload_images/12946880-beb9f9f520dd693a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></li>
</ol>
</li>
</ul>
<hr>
<ul>
<li>42.什么是代理和通知，写一下他们基本的实现方式<br>通知:一对一 一对多传值<br><strong>四个步骤:</strong><br>1.发送通知<br>2.创建监听者<br>3.接收通知<br>4.移除监听者<br><strong>使用场景:</strong><br>1.很多控制器都需要知道一个事件，应该用通知;<br>2.相隔多层的两个控制器之间跳转<br><strong>注意事项:</strong><br>1.一旦接收消息的对象多了，就难以控制了，可能有你不希望的对象接<br>受了消息并做了处理<br>2.创建了观察者，在dealloc里 面一定要移除;<br>代理:“一对一”，对同一个协议， 一个对象只能设置一个代理delegate<br><strong>六个步骤:</strong><br>1.声明一个协议,定义代理方法<br>2.遵循协议<br>3.设置一个代理对象<br>4.调用代理方法<br>5.给代理赋值<br>6.实现代理方法<br><strong>注意事项:</strong><br>1,单例对象不能用代理;<br>2,代理执行协议方法时要使用responds ToSelector检查其代理是否符合<br>协议(检查对象能否响应指定的消息)，以避免代理在回调时因为没有实现方法而造成程序崩溃<br><strong>使用场景:</strong><br>公共接口，方法较多也选择用delegate进行解耦<br>iOS最常用tableViewDelegate, textViewDelegate<br>iOS有很多例子比如常用的网络库AFNetwork, ASIHTTP库，UIAlertView类。<br>Block:Block是iOS4.0+和Mac OS X 10.6+引进的对C语言的扩展，用来实现匿名函数的特性。Blocks 语法块代码以闭包得形式将各种内容进行传递，可以是代码，可以是数组无所不能。闭包就是能够读取其它函数内部变量的函数。就是在-段请求连续代码中可以看到调用参数(如发送请求)和响应结果。所以采用Block技术能够抽象出很多共用函数，提高了代码的可读性，可维护性,， 封装性。<br>使用场景:<br>一:动画<br>二:数据请求回调<br>三:枚举回调<br>四:多线程gcd<br>注意事项:<br>block需要注意防止循环引用<br>参考网址: <a href="http://www.cnblogs.com/wenboliu/articles/5422033.html" target="_blank" rel="noopener">http://www.cnblogs.com/wenboliu/articles/5422033.html</a></li>
</ul>
<hr>
<ul>
<li>43.UIViewController的生命周期<br>(1)通过alloc init 分配内存,初始化controller.<br>(2) loadView (loadView方法默认实现[super loadView]如果在初始化con troller时指定了xib文件名,就会根据传入的x ib文件名加载对应的xib文件,如果没传xib文件名,默认会加载跟control ler同名的xib文件,如果没找到相关联的xib文件,就会创建一个空白的UIView,然后赋給controller的view)<br>(3) viewDidLoad (当loadView创建完view之后， 此时view已经完成加载了，会调用viewDidLoad方法; -般我会在这里做界面上的初始化操作，比如添加按钮,子视图,等等.)<br>(4)viewWi llAppear (当view在load完之后 ,将要显示在屏幕之前会调用这个方法，在重写这些方法时候最好先调用一下系统的方法之后在做操作。)<br>(5)viewDidAppear (当view已经在屏幕上显示出来之后,会调用这个方法，当一个视图被<br>移除屏幕并且销毁的时候)<br>(6)viewWillDisappear (当视图将要从屏幕上移除时候调用)<br>(7)viewDidDisappear (当视图已经 从屏幕上移除时候调用)<br>(8) Dealloc (view被销毁时候调用，如果是手动管理内存的话，需要释放掉之前在init和<br>viewDidLoad中分配的内存(类似alloc, new, copy); dealloc方 法不能由我们主动调用,必须等引用计数为0时候由系统调用. )<br>参考网址: <a href="http://www.cnblogs.com/wujy/p/5822329.html" target="_blank" rel="noopener">http://www.cnblogs.com/wujy/p/5822329.html</a></li>
</ul>
<hr>
<ul>
<li>44.rem布局字体太大怎么处理?<br>一般情况下我们设置了html根节点的字体大小作为rem单位的一个基本标准，那么我们可以紧接着在body标签内设置一个字体大小为该应用的基本字体大小<br>针对于一些机型如果一开始就显示的字体不正常，我们可以通过判断机型然后加载不同的样式<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language=&quot;javascript&quot;&gt;</span><br><span class="line">    window.onload = function() &#123;</span><br><span class="line">        alert(&quot;1&quot;);</span><br><span class="line">        var u = navigator.userAgent;</span><br><span class="line">        if(u.indexOf(&apos;Android&apos;) &gt; -1 || u.indexOf(&apos;Linux&apos;)&gt; -1)&#123; //安卓手机</span><br><span class="line">            aler(&quot;安卓手机&quot;);</span><br><span class="line">        &#125; else if(u.indexOf(&apos;iPhone&apos;)&gt;-1)&#123; //苹果手机</span><br><span class="line">           alert(&quot;苹果手机&quot;); </span><br><span class="line">        &#125; else if(u.indexOf(&apos;Windows Phone&apos;) &gt; -1) &#123; //winphone手机</span><br><span class="line">            alert(&quot;winphone手机&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<ul>
<li>45.如何调用原生的接口?<br>首先你得选择一个合适的框架作为自己的基础，以Dcloud为例， 页面中一定要存在一个事件，plusready， plusready实际 上是原生将桥接js注入到页面中的容器，进行任何方法调用的时候都在plusready之后。所有api方法全部都托管在了-个plus对象中。 使用语法plus.模块名称.具体方法(参数，callback)<br>当我们需要打开系统相册的时候，可以这样做:<br>Gallery模块管理系统相册，支持从相册中选择图片或视频文件、保存图片或视频文件到相册等功能。通过plus gallery获取相册管理对象。打开相plus.gallery.pick进行打开，选取多个图片{multiple:true,maximum:9,system:false}</li>
</ul>
<hr>
<ul>
<li>46.微信支付怎么做?说说流程<br>(1)申请微信公众号及支付功能申请:根据公众号申请流程申请即可。<br>(2)获取商户支付配置信息及支付测试配置:<br>支付授权目录最多可以配置三个域名，测试授权目录只可以一个,这里需要<br>注意的是域名大小写必须要网站URL一致，否则会无法通过授权，提示支付请求的URL不合法。另外，测试支付的微信号必须加到测试白名单，否则无法进行支付测试。<br>(3)H5页面发起支付请求，请求生成支付订单 获取用户授权(获取用户的openid)<br>(4)调用统一下单API， 生成预付单<br>(5)生成JSAPI页面调用的支付参数并签名，注意时间戳timeStamp是32位字符串<br>(6)返回支付参数prepay_ id,paySign参 数的htmI文本给前端。<br>(7)微信浏览器自动调起支付JSAPI接口支付，提示用户输入密码。<br>(8)确认支付，输入密码，提交支付。<br>(9)步通知商户支付结果，商户收到通知返回确认信息。<br>(10)返回支付结果，并发微信消息提示。<br>(11)展示支付信息给用户，跳转到支付结果页面。</li>
</ul>
<hr>
<ul>
<li>47.混合开发的注意点<br>增强WebView:原生WebView基本 是PC平台浏览器内核的移植，但对于移动场景并不完全适合，各种硬件API得不到HTML5原生支持。因此对于WebView的种种Hack、增强应运而生，甚至出现了基于增强WebView提供第三方服务的。<br>路由:应用内跳转由于加入了WebView而变得复杂起来，同时由于组件化、模块化带来的问题，路由也成为人们讨论的重点。<br>缓存:移动网络条件差,为了用户体验，必须要做资源缓存和预加载。<br>通信:即HTML5和Native之 间的通信。利用系统提供的桥接API可以实现，不过在应用上还有着一些坑点和安全问题。</li>
</ul>
<hr>
<ul>
<li>48.说说你对手机平台的安装包后缀的理解<br>Android: <strong>.apk<br>los:</strong>.ipa<br>Windows: wp7 wp8的是xap<br>wp8.1以后用8.1的sdk开发的是appx</li>
</ul>
<hr>
<h4 id="NodeJS"><a href="#NodeJS" class="headerlink" title="NodeJS:"></a>NodeJS:</h4><ul>
<li>49.谈谈你对Socket编程的理解，及实现原理，Socket之间是怎么通讯的<br>A、Socket定义<br>Socket是进程通讯的一种方式，即调用这个网络库的- -些API函数实现分布在不同主机的相关进程之间的数据交换。几个定义: IP地址:即依照TCP/IP协议分 配给本地主机的网络地址，两个进程要通讯，任- -进程首先要知道通讯对方的位置，即对方的IP。端口号:用来辨别本地通讯进程，一个本地的进程在通讯时均会占用一个端口号，不同的进程端口号不同，因此在通讯前必须要分配一个没有被访问的端口号。连接:指两个进程间的通讯链路。<br>B、实现原理<br>在TCP/IP网络应用中，通信的两个进程间相互作用的主要模式是客户/服务器(Client/Server, C/S)模式，即客户向服务器发出服务请求，服务器接收到请求后，提供相应的服务。客户/服务器模式的建立基于以下两点:首先，建立网络的起因是网络中软硬件资源、运算能力和信息不均等，需要共享，从而造就拥有众多资源的主机提供服务，资源较少的客户请求服务这一非对等作用。其次,网间进程通信完全是异步的，相互通信的进程间既不存在父子关系，又不共享内存缓冲区，因此需要一种机制为希望通信的进程间建立联系，为二者的数据交换提供同步，这就是基于客户/服务器模式的TCP/IP。<br>C、通讯过程服务器端:其过程是首先服务器方要先启动，并根据请求提供相应服务:<br>(1) 打开-通信通道并告知本地主机，它愿意在某-公认地址上的某端口(如FTP的端口 可能为21)接收客户请求;<br>(2)等待客户请求到达该端口;<br>(3)接收到客户端的服务请求时，处理该请求并发送应答信号。接收到并发服务请求，要激活-新进程来处理这个客户请求(如UNIX系统<br>中用fork、exec) 。新进程处理此客户请求，并不需要对其它请求作出应答。服务完成后，<br>关闭此新进程与客户的通信链路，并终止。<br>(4) 返回第(2) 步，等待另一客户请求。<br>(5)关闭服务器客户端:<br>(1)打开一通信通道,并连接到服务器所在主机的特定端口;<br>(2)向服务器发服务请求报文，等待并接收应答;继续提出请求….<br>(3)请求结束后关闭<br>通信通道并终止。从上面所描述过程可知:<br>(1) 客户与服务器进程的作用是非对称的，因此代码不同。<br>(2) 服务器进程一般是先启动的。只要系统运行，该服务进程一直存在，直<br>到正常或强迫终止。<br>详细参见:<br><a href="https://www" target="_blank" rel="noopener">https://www</a>. zhihu.com/question/29637351<br><a href="http://blog.csdn.net/panker2008/article/details/46502783?ref=myread" target="_blank" rel="noopener">http://blog.csdn.net/panker2008/article/details/46502783?ref=myread</a></li>
</ul>
<hr>
<ul>
<li>50.WEB应用从服务器主动推送Data到客户端有哪些方式?<br>一般的服务 器Push技术包括:<br>(1)基于AJAX的长轮询(long-polling) 方式，服务器Hold- -段时间后再返回信息;<br>(2) HTTP Streaming,通过iframe和<script>标签完成数据的传输;<br>(3) TCP长连接<br>(4) HTML 5新引入的WebSocket,可以实现服务器主动发送数据至网页端，它和HTTP一<br>样，是一个基于HTTP的应用层协议，跑的是TCP, 所以本质上还是个长连接，双向通信,<br>意味着服务器端和客户端可以同时发送并响应请求，而不再像HTTP的请求和响应。<br>(5) nodejs的<a href="http://socket.io">http://socket.io</a>, 它是websocket的一 个开 源实现，对不支持websocket的浏<br>览器降级成comet / ajax轮询，<a href="http://socket.io的">http://socket.io的</a> 良好封装使代码编写非常容易。<br>上述的1和2统称为comet技术。comet详 细参考: <a href="http://www.ibm.com/developerworks/cn/web/wa-lo-comet/">http://www.ibm.com/developerworks/cn/web/wa-lo-comet/</a></li>
</ul>
<hr>
<ul>
<li>51.简述Node.js的适用场景?<br>IO密集而非计算密集的情景;高并发微数据(比如账号系统)的情景。特别是高并发,<br>Node.js的性能随并发数量的提高而衰减的现象相比其他server都有很明显的优势。<br>一篇外文:<br>Bad Use Cases:<br>CPU heavy appsSimple<br>CRUD / HTML apps<br>NoSQL + Node.js + Buzzword Bullshit<br>Good Use Cases :<br>JSON APIs<br>Single page apps<br>Shelling out to unix tools<br>Streaming data<br>Soft Realtime Applications<br>详细参见:<br><a href="http://nodeguide.com/convincing_the_boss.html">http://nodeguide.com/convincing_the_boss.html</a></li>
</ul>
<hr>
<ul>
<li>52.什么是HTTPS,做什么用的呢?如何开启HTTPS?<br>(1)什么是HTTPS<br>https是http的加密版本，是在http请求的基础上，采用ssI进行加密传输。<br>(2)做什么用<br>加密数据，反劫持，SEO<br>(3)如何开启<br>生成私钥与证书，配置nginx, 重启nginx看 效果<br>详细参见: <a href="https://segmentfault.com/a/1190000006199237?utm_source=:tuicool&amp;utm_medium=referral">https://segmentfault.com/a/1190000006199237?utm_source=:tuicool&amp;utm_medium=referral</a></li>
</ul>
<hr>
<ul>
<li>54.如何用NodeJS搭建中间层?<br><img src="https://upload-images.jianshu.io/upload_images/12946880-4b4c719be3ff5b2a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>最上端是服务端，就是我们常说的后端。后端对于我们来说，就是一个接口的集合，服务端提供各种各样的接口供我们使用。因为有Node层，也不用局限是什么形式的服务。对于后端开发来说，他们只用关心业务代码的接口实现。<br>服务端下面是Node应用。<br>Node应用中有一层Model Proxy与服务端进行通讯。这一层主要目前是抹平我们对不同接口的调用方式，封装-些view层 需要的Model。<br>Node层还能轻松实现原来vmcommon,tms (引用淘宝内容管理系统)等需求。<br>Node层要使用什么框架由开发者自己决定。不过推荐使用express+x Template的组合，xTemplate能做到前后端公用。<br>怎么用Node大家自己决定，但是令人兴奋的是，我们终于可以使用Node轻松实现我们想要的输出方式:JSON/JSONP/RESTful/HTML/BigPipe/Comet/Socket/同步、异步，想怎么整就怎么整,完全根据你的场景决定。<br>浏览器层在我们这个架构中没有变化，也不希望因为引入Node改变你以前在浏览器中开发的认知。<br>引入Node,只是把本该就前端控制的部分交由前端掌控。<br>详细参见: <a href="http://blog.csdn.net/u011413061/article/details/50294263">http://blog.csdn.net/u011413061/article/details/50294263</a></li>
</ul>
<hr>
<p>###持续更新中～</p>
</script></li></ul>
      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/webApp/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/webApp/" itemprop="url">移动端Web开发</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T11:58:07+08:00">2019-05-24 11:58:07</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>最近在学习移动端Web开发，还是个小白，有不对的地方请评论指导～😝 </p>
<p>你你你 你怎么穿了品如的衣服！</p>
<p>移动端Web开发属于前端开发中的一个子集，指移动设备上的Web前端开发工作，顺应着互联网和硬件的升级，在智能手机出现后，用户每天的上网方式发生了很大的改变。原本是固定的PC(Personal Computer，个人计算器)互联变成了现在的随时随地的移动互联。几乎人人都有一台自己的智能手机，时时刻刻的与世界的任何一个角落发生着联系。</p>
<h4 id="浅谈移动Web-与-HTML-5-不得不说的关系！"><a href="#浅谈移动Web-与-HTML-5-不得不说的关系！" class="headerlink" title="浅谈移动Web 与 (HTML 5) 不得不说的关系！"></a>浅谈移动Web 与 (HTML 5) 不得不说的关系！</h4><p>HTML 5 ，其中的数字代号“5” 表示 超文本标记语言 HTML 的版本号，也就是第五次(重大修改)。<br>HTML 5的特性：(标签语义化、本地存储(locatStorage)、网页多媒体、图形特效(Canvas、WebGL))<br>HTML 5个人常用的技术：(视口控制(Viewport)、媒体查询(@media)、音视频播放(Audio、Video))</p>
<h4 id="移动Web-与-原生应用的优劣势"><a href="#移动Web-与-原生应用的优劣势" class="headerlink" title="移动Web 与 原生应用的优劣势"></a>移动Web 与 原生应用的优劣势</h4><p>一、移动 Web 的优势</p>
<ul>
<li>跨平台: 网页应用运行在浏览器上，不会直接和系统打交道</li>
<li>开发成本低: Because 没有平台问题，开发者不需要掌握多种开发语言和框架</li>
<li>更容易迭代: Web应用所有的资源都在服务器，不需要用户主动安装和更新就可以实现产品的升级迭代</li>
</ul>
<p>二、移动 Web 的劣势</p>
<ul>
<li>功能有限: 因为没有和系统直接打交道所以只能使用浏览器提供的部分功能</li>
<li>操作体验欠佳: 由于运行在浏览器上，很多浏览器的质量参差不齐，操作体验势必有所下降</li>
<li>无法离线使用: 虽然 HTML 5 提供了离线存储，但是不代表客户在第一次首次访问应用的时候，本地已经存在</li>
<li>很难被发现: 用户获取APP的方式一般都是通过应用商店下载、APP桌面图标，而Web App 并不具备这些的条件</li>
</ul>
<p>三、 原生应用的优势</p>
<ul>
<li>功能完善: 几乎具备设备的所有功能的访问权限</li>
<li>体验更好: 速度快、性能高</li>
<li>可离线使用: 在无网络的情况下，客户也可以进行部分操作，因为原生App的所有程序代码和静态资源在用户安装app时就已经下载到了本地</li>
<li>发现机会高: 应用商城下载、桌面应用图标展示</li>
</ul>
<p>四、原生应用的劣势</p>
<ul>
<li>开发成本高: 有多少操作系统就得开发多少套应用程序，维护成本也会相对增加</li>
<li>迭代不可控: 安装首先需应用商城审核，其次需要用户即使的升级</li>
<li>内容限制: 应用商城审核规范条例</li>
</ul>
<h4 id="移动Web-现需解决的问题"><a href="#移动Web-现需解决的问题" class="headerlink" title="移动Web 现需解决的问题"></a>移动Web 现需解决的问题</h4><ul>
<li>浏览器种类太多，参差不齐<br>除了系统原生的浏览器，还有很多第三方的浏览器，而且那些第三方的浏览器对HTML 5 的支持程度不一，对网页的渲染与交互也各不相同，增加了Web前端开发的成本。不止是web前端 PC端的IE就是一个魔鬼🙂️</li>
<li>网速仍然是性能的瓶颈<br>在PC时代网速是困扰用户和开发者的最大难题，到了移动时代，这个问题更加被放大，很多时候开发者都需要为网页加速加载做更多的优化</li>
<li>多框架造成门槛高<br>不管是移动端还是PC端，框架的更新速度以及新框架的出现速度都是很快的。</li>
</ul>

      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/positionMap/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/positionMap/" itemprop="url">定位当前地理位置</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T11:50:37+08:00">2019-05-24 11:50:37</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <h4 id="使用-HTML5-Geolocation-API-来构建基于地理位置的应用～"><a href="#使用-HTML5-Geolocation-API-来构建基于地理位置的应用～" class="headerlink" title="使用 HTML5 Geolocation API 来构建基于地理位置的应用～"></a>使用 HTML5 Geolocation API 来构建基于地理位置的应用～</h4><p>各种浏览器对HTML5 Geolocation 的支持<br>浏览器 | 版本 | 只支持HTTPS版本</p>
<table>
<thead>
<tr>
<th>浏览器</th>
<th>版本</th>
<th>只支持HTTPS版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>IE</td>
<td>9+</td>
<td>-</td>
</tr>
<tr>
<td>Edge</td>
<td>12+</td>
<td>-</td>
</tr>
<tr>
<td>Firefox</td>
<td>3.5+</td>
<td>-</td>
</tr>
<tr>
<td>Chrome</td>
<td>5+</td>
<td>50</td>
</tr>
<tr>
<td>Safari</td>
<td>5+</td>
<td>39</td>
</tr>
<tr>
<td>iOS Safari</td>
<td>3.2+</td>
<td>10.2</td>
</tr>
<tr>
<td>Android Browser</td>
<td>2.1+</td>
<td>56</td>
</tr>
<tr>
<td>Chrome for Android</td>
<td>57+</td>
<td>5</td>
</tr>
<tr>
<td>UC Browser for Android</td>
<td>11.4+</td>
<td>-</td>
</tr>
</tbody>
</table>
<blockquote>
<p>出于安全考虑，部分浏览器只允许通过HTTPS协议使用 Geolocation API。在HTTP协议下使用Geolocation API 浏览器会抛出异常，在开发阶段，127.0.0.1和localhost 等本地域在两种协议下均可使用。</p>
</blockquote>
<p>Geolocation API 通过 navigator.geolocation 全局对象进行访问，第一次访问的时候会询问用户是否允许共享位置。</p>
<p>判断浏览器是否支持 Geolocation API<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 判断浏览器属否支持获取位置</span><br><span class="line">if(navigator.geolocation)&#123;</span><br><span class="line">    console.log(&quot;可以获取&quot;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    console.log(&quot;不支持&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实例代码如下：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    获取用户地理位置</span><br><span class="line">    &lt;input type=&quot;button&quot; value=&quot;点击获取位置&quot; id=&quot;btn&quot;&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        let btnBtn = document.getElementById(&apos;btn&apos;)</span><br><span class="line">        btnBtn.onclick = () =&gt; &#123; // 点击事件</span><br><span class="line">                getAdd()</span><br><span class="line">            &#125;</span><br><span class="line">            // 成功回调</span><br><span class="line">        let success = (position) =&gt; &#123;</span><br><span class="line">                console.log(`获取位置成功：$&#123;position.coords&#125;`);</span><br><span class="line">                console.log(position.coords); // 获取坐标信息</span><br><span class="line">                // coords的常用属性</span><br><span class="line">                console.log(position.coords.latitude); // 获取坐标纬度</span><br><span class="line">                console.log(position.coords.longitude); // 获取坐标经度</span><br><span class="line">                console.log(position.coords.accuracy); // 获取坐标精度，单位为米</span><br><span class="line">                console.log(position.timestamp); // 获取位置的时间戳</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            // 失败回调</span><br><span class="line">        let error = (positionErr) =&gt; &#123;</span><br><span class="line">            console.log(`获取位置失败：$&#123;positionErr.code&#125;+$&#123;positionErr.message&#125;`);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        let options = &#123;</span><br><span class="line">            enableHightAccuracy: false, // 获取高精度的位置信息，可能会增加响应时间，默认是false</span><br><span class="line">            timeout: 30000, // 设置超时时间，单位毫秒，如果到达设定的时间没获取到信息则回触发失败回调，默认值为0，无限大</span><br><span class="line">            maximumAge: 0 // 设置用户位置信息缓存的最大时间</span><br><span class="line">        &#125;</span><br><span class="line">        let getAdd = () =&gt; &#123;</span><br><span class="line">            navigator.geolocation.getCurrentPosition(success, error, options)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        // 判断浏览器属否支持获取位置</span><br><span class="line">        if(navigator.geolocation)&#123;</span><br><span class="line">            console.log(&quot;可以获取&quot;);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            console.log(&quot;不支持&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>当获取位置失败时，会调用失败回调(error函数)。返回的参数&lt;positionErr.code 标识错误的原因&gt;&lt;positionErr.message错误信息描述&gt;<br>positionErr.code 值</p>
<ul>
<li>UNKNOWN_ERROR(0): 其他错误</li>
<li>PERMISSION_DENIED(1): 用户拒绝分享位置信息</li>
<li>POSITION_UNAVAILABLE(2): 获取用户位置信息失败</li>
<li>TIMEOUT(3): 获取用户位置信息超时</li>
</ul>

      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/typescript/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/typescript/" itemprop="url">TypeScript概括</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T11:44:37+08:00">2019-05-24 11:44:37</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <h3 id="浅谈-开篇前言"><a href="#浅谈-开篇前言" class="headerlink" title="浅谈-开篇前言"></a>浅谈-开篇前言</h3><p>TypeScript是JavaScript的超集（遵循ECMAScript6语法）， 这个语言添加了基于类的面向对象编程。TypeScript作为JavaScript很大的一个语法糖，本质上是类似于css的less、sass，都是为了易于维护、开发，最后还是编译成JavaScript，只要是js可以运行的地方它都可以运行。</p>
<h5 id="ES是什么？ES6和ES5之间的关系？和JS和TS的关系？"><a href="#ES是什么？ES6和ES5之间的关系？和JS和TS的关系？" class="headerlink" title="ES是什么？ES6和ES5之间的关系？和JS和TS的关系？"></a>ES是什么？ES6和ES5之间的关系？和JS和TS的关系？</h5><p>简单来说ES就是一种规范，ES6和ES5就是这个规范的不同版本，JS实现了ES5，TS实现了ES6，JS和TS是客户端不同的版本。</p>
<h5 id="TypeScript相对于JavaScript的优势"><a href="#TypeScript相对于JavaScript的优势" class="headerlink" title="TypeScript相对于JavaScript的优势"></a>TypeScript相对于JavaScript的优势</h5><ul>
<li>支持 <strong>ES6</strong> 的规范</li>
<li>强大的 <strong>IDE</strong> 支持<br>  2.1 <strong>类型检查</strong><br><em>为变量指定类型 -&gt; 减少开发阶段的几率</em><br> 2.2 <strong>语法提示</strong><br><em>根据上下文，把所可能需要的类、变量方法、关键字都会有提示 -&gt; 提高开发效率</em><br>2.3 <strong>重构</strong><br><em>方便修改变量、方法名、文件名(IDE会自动修改) -&gt; 提高代码质量和效率</em></li>
<li>angular2 的开发语言<h4 id="学习TypeScript的收益"><a href="#学习TypeScript的收益" class="headerlink" title="学习TypeScript的收益"></a>学习TypeScript的收益</h4></li>
<li>强大的静态类型系统</li>
<li>完善的内部代码库</li>
<li>几乎所有的<strong>API</strong>都能得到准确的智能提示</li>
<li>可以帮助团队更好的理解架构内容的数据流向<h3 id="搭建TS开发环境"><a href="#搭建TS开发环境" class="headerlink" title="搭建TS开发环境"></a>搭建TS开发环境</h3><code>sudo npm install -g typescript</code><blockquote>
<p>目前的主流浏览器还不完全支持ES6的语法 所以目前想要在浏览器运行TS代码需要Compiler编译器来将TS代码转换为浏览器支持的JS代码</p>
</blockquote>
</li>
</ul>
<p><code>tsc 文件名.ts</code><br>文件名.ts -&gt; 文件名.js</p>
<h4 id="Type类型"><a href="#Type类型" class="headerlink" title="Type类型"></a>Type类型</h4><p><em>所有类型都是any类型的子类型</em></p>
<p><strong>元类型</strong>(<em>primitive types</em>)<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">number、boolean、string、null、undefined</span><br></pre></td></tr></table></figure></p>
<p><strong>对象类型</strong>(<em>object types</em>)<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">所有类、模块、接口、字面量</span><br></pre></td></tr></table></figure></p>
<h2 id="TypeScript-新特性"><a href="#TypeScript-新特性" class="headerlink" title="TypeScript 新特性"></a>TypeScript 新特性</h2><h4 id="字符串新类型"><a href="#字符串新类型" class="headerlink" title="字符串新类型"></a>字符串新类型</h4><ul>
<li><p>多行字符串</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">console.log(`</span><br><span class="line">&lt;a&gt;1&lt;/a&gt;</span><br><span class="line">&lt;sapn&gt;2&lt;/span&gt;</span><br><span class="line">`)</span><br></pre></td></tr></table></figure>
</li>
<li><p>字符串模版</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let tt= 1</span><br><span class="line">console.log(`你好我叫$&#123;tt&#125;`)</span><br></pre></td></tr></table></figure>
</li>
<li><p>自动拆分字符串</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function test_n(template,name,age)&#123;</span><br><span class="line">    console.log(template)</span><br><span class="line">    console.log(name)</span><br><span class="line">    console.log(age)</span><br><span class="line">&#125;</span><br><span class="line">var myname = &quot;兰海&quot;</span><br><span class="line">var getAge = ()=&gt;&#123;</span><br><span class="line">    return 19</span><br><span class="line">&#125;</span><br><span class="line">/*</span><br><span class="line">直接函数调用 函数名`` </span><br><span class="line">-&gt;会将里面的 模版string 作为第一个参数 返回一个数组[&apos;我叫&apos;,&apos;，今年&apos;,&apos;!&apos;] 根据模版字符串切割</span><br><span class="line">-&gt;第一个模版和第二个模版分别对应函数中的第二第三参数 只会返回对应的值 // 兰海  // 19</span><br><span class="line">*/</span><br><span class="line">test_n`我叫$&#123;myname&#125;，今年$&#123;getAge()&#125;!`</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="参数新类型"><a href="#参数新类型" class="headerlink" title="参数新类型"></a>参数新类型</h4><ul>
<li>参数类型<blockquote>
<p>在参数名称后面使用冒号来指定参数的类型<br>类型推断机制 -&gt; 根据编写的值来设定该变量的参数类型<br>(自定义类型)(字符串数组类型)(数字数组类型)(元组类型)(联合类型)(显式类型)</p>
</blockquote>
</li>
</ul>
<p><em>设置参数类型 类型推断机制</em><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var myname: string = &quot;兰海&quot;</span><br><span class="line"></span><br><span class="line">//-&gt; [ts] 后续变量声明必须属于同一类型。变量“myname”必须属于类型“string”，但此处却为类型“number”。</span><br><span class="line">// 因为在前面已经定义了变量的类型 所以后续再给变量赋值必须遵循之前声明的类型</span><br><span class="line">var myname = 1; // 报错</span><br></pre></td></tr></table></figure></p>
<p><em>any 其他类型 -&gt; 元类型</em><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// any 所有类型都可以</span><br><span class="line">var myts1: any = 10</span><br><span class="line">myts1 = &quot;你好&quot;</span><br><span class="line"></span><br><span class="line">var myts2: boolean = true</span><br><span class="line">var myts3: string = &quot;str&quot;</span><br><span class="line">var myts4: number = 1</span><br><span class="line">var myts5: null = null</span><br><span class="line">var myts6: undefined = undefined</span><br></pre></td></tr></table></figure></p>
<p><em>函数返回值</em><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// :void 该函数不需要任何返回值</span><br><span class="line">function test(): void &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// :any 该函数可以返回任何类型的返回值</span><br><span class="line">function test2(): any &#123;</span><br><span class="line">    return &quot;any&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 注意除了 :void 和 :any 以外其他声明的类型 都必须return一个值</span><br><span class="line"></span><br><span class="line">// 可以规定返回值类型 string number boolean null ....</span><br><span class="line">function test3(): string &#123;</span><br><span class="line">    return &quot;1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 还可以设置函数的 形参的类型</span><br><span class="line">function test4(x: number, y: string): string &#123;</span><br><span class="line">    return &quot;&quot;</span><br><span class="line">&#125;</span><br><span class="line">// 在函数调用的时候 实参也必须遵循设置的类型</span><br><span class="line">test4(1,&apos;2&apos;)</span><br></pre></td></tr></table></figure></p>
<p><em>自定义类型</em><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">    age: number;</span><br><span class="line">    name: string;</span><br><span class="line">&#125;</span><br><span class="line">var per: Person = new Person()</span><br><span class="line">per.age = 1</span><br><span class="line">per.name = &quot;兰海&quot;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>默认参数</p>
<blockquote>
<p>在参数声明的后面用等号来指定参数的默认值<br>(在参数名称后面用 <strong>:</strong> 指定参数的<strong>类型</strong>)<br>(在参数名称后面用 <strong>=</strong> 指定参数的<strong>默认值</strong>)<br><em>注意:带默认值的参数要声明在最后面！</em></p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 指定参数的默认值</span><br><span class="line">// 不传参数会报错 所以可以设置默认值</span><br><span class="line">// 带默认值的参数一定要声明在最后面！</span><br><span class="line">function test6(x:number,y:number = 2):any&#123;</span><br><span class="line">    console.log(x,y)</span><br><span class="line">    return y</span><br><span class="line">&#125;</span><br><span class="line">var ts = test6(12)</span><br><span class="line">console.log(ts)</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>可选参数</p>
<blockquote>
<p>在参数声明的后面用问号来指定参数为可选<br><em>注意:可选的参数要声明在最后面！默认值和可选不能同时设置，可选参数🉑️和指定参数类型一起设置</em></p>
</blockquote>
</li>
</ul>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 参数可选 ? 可以传递也可以不传递</span><br><span class="line">// 注意 在函数内部得处理可选参数</span><br><span class="line">// 带可选的参数一定要声明在最后面 不能同时设置可选和默认值！</span><br><span class="line">function test7(x: string, y?: number) &#123;</span><br><span class="line">    console.log(x)</span><br><span class="line">    if (y) &#123;</span><br><span class="line">        console.log(`参数已传递`)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(y,`参数未传递`)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">test7(&quot;11&quot;)</span><br><span class="line">test7(&quot;122&quot;,999)</span><br></pre></td></tr></table></figure>
<h4 id="函数新类型"><a href="#函数新类型" class="headerlink" title="函数新类型"></a>函数新类型</h4><ul>
<li><p>Rest and Spread 操作符 (…)</p>
<blockquote>
<p>用来声明任意数量的方法参数</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 用来声明任意数量的方法参数 </span><br><span class="line">// agrss -&gt; arguments 伪数组</span><br><span class="line">function ts1(...argss)&#123;</span><br><span class="line">    argss.forEach(arg =&gt; &#123;</span><br><span class="line">        console.log(arg)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">ts1(1,2,3,4,5,6)</span><br><span class="line">ts1(1,2)</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>generator 函数</p>
<blockquote>
<p>控制函数的执行过程，手工暂停和恢复代码执行 (* yield)</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function* ts3() &#123;</span><br><span class="line">    console.log(&apos;start&apos;)</span><br><span class="line">    yield</span><br><span class="line">    console.log(&apos;center&apos;)</span><br><span class="line">    yield</span><br><span class="line">    console.log(&apos;end&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var ts3_3 = ts3()</span><br><span class="line">ts3_3.next() // statt</span><br><span class="line">ts3_3.next() // center</span><br><span class="line">ts3_3.next() // end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function* getStock(stock) &#123;</span><br><span class="line">    while (true) &#123;</span><br><span class="line">        yield Math.random() * 100</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var stockGenerator = getStock(&apos;BaiDu&apos;)</span><br><span class="line">var limPrice = 15</span><br><span class="line">var price = 100</span><br><span class="line">// 当返回的值大于15会一直循环 小于15就会停止循环</span><br><span class="line">while (price &gt; limPrice) &#123;</span><br><span class="line">    price = stockGenerator.next().value</span><br><span class="line">    console.log(`the generator return $&#123;price&#125;`)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>destructuring析构表达式</p>
<blockquote>
<p>通过表达式将对象或数组拆解成任意数量的变量<br>直接将对象里对应名称的变量定义和赋值到外部</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// var &#123;a,b&#125; = 对象 直接将对象里对应名称的变量定义和赋值到外部</span><br><span class="line">// 注意 析构表达式里面的变量要和对象里面的变量的名字是相同的</span><br><span class="line">function ts6() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        name_t: &apos;蓝海&apos;,</span><br><span class="line">        age: 18</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var &#123; name_t, age &#125; = ts6()</span><br><span class="line">console.log(name)</span><br><span class="line">console.log(age)</span><br><span class="line"></span><br><span class="line">// 如果需要后续自定义变量名</span><br><span class="line">var &#123; name_t: myname, age &#125; = ts6()</span><br><span class="line">console.log(myname)</span><br><span class="line">console.log(age);</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<p><em>嵌套变量取值</em><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 取嵌套属性</span><br><span class="line">var obj = &#123;</span><br><span class="line">    t1: &apos;睡觉睡觉&apos;,</span><br><span class="line">    t2: &#123;</span><br><span class="line">        ts2_1: &quot;其擦好&quot;,</span><br><span class="line">        ts2_2: &quot;好的&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var &#123; t1, t2: &#123; ts2_2 &#125; &#125; = obj</span><br><span class="line">console.log(t1)</span><br><span class="line">console.log(ts2_2)</span><br></pre></td></tr></table></figure></p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// var [1,2,3,4] = 数组 直接将数组里对应名称的变量定义和赋值到外部</span><br><span class="line">var arr = [1, 2, 3, 4]</span><br><span class="line">var [num1, num2] = arr</span><br><span class="line">console.log(num1, num2) // 1 2</span><br><span class="line"></span><br><span class="line">var [, , num1, num2] = arr</span><br><span class="line">console.log(num1, num2) // 3 4</span><br><span class="line"></span><br><span class="line">var [num1, , , num2] = arr // 1 4</span><br><span class="line">console.log(num1, num2)</span><br><span class="line"></span><br><span class="line">var [num1, , num2] = arr // 1 3</span><br><span class="line">console.log(num1, num2)</span><br><span class="line"></span><br><span class="line">var [num1, num2, ...other] = arr</span><br><span class="line">console.log(num1, num2, other) // 1 2 arr[3,4]</span><br></pre></td></tr></table></figure>
<p><em>析构表达式 结合 Rest and Spread 操作符</em><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1, 2, 3, 4]</span><br><span class="line">function getArr([num1, num2, ...other]) &#123;</span><br><span class="line">    console.log(num1, num2, other)</span><br><span class="line">&#125;</span><br><span class="line">getArr(arr)</span><br></pre></td></tr></table></figure></p>
<h4 id="表达式和循环"><a href="#表达式和循环" class="headerlink" title="表达式和循环"></a>表达式和循环</h4><ul>
<li>箭头函数<blockquote>
<p>用来声明匿名函数，消除传统匿名函数的this指针问题(setInterval)</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var arr = (ag1, ag2) =&gt; ag1 + ag2</span><br><span class="line"></span><br><span class="line">var retarr = arr(1, 2)</span><br><span class="line">console.log(retarr) // 3</span><br><span class="line"></span><br><span class="line">var myarr: Array&lt;number&gt; = [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">console.log(myarr.filter(value =&gt; value % 2 == 0)) // arr[2,4]</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<p><em>解决this指向</em><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var arr_n = (name_n) =&gt; &#123;</span><br><span class="line">    this.name_n = name_n</span><br><span class="line">    setInterval(() =&gt; &#123;</span><br><span class="line">        console.log(`name is:$&#123;this.name_n&#125;`) // 这里的thi还是全局的this 并不是函数的this</span><br><span class="line">    &#125;, 1000)</span><br><span class="line">&#125;</span><br><span class="line">arr_n(&quot;兰海&quot;)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>循环<blockquote>
<p>forEach()、for in、for of</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// for of 可以打印字符串</span><br><span class="line">var arr_ss = []</span><br><span class="line">for (const iterator of &quot;我是一个字符串&quot;) &#123;</span><br><span class="line">    arr_ss.push(iterator)</span><br><span class="line">    console.log(iterator)</span><br><span class="line">&#125;</span><br><span class="line">console.log(arr_ss) //  [&quot;我&quot;, &quot;是&quot;, &quot;一&quot;, &quot;个&quot;, &quot;字&quot;, &quot;符&quot;, &quot;串&quot;]</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h2 id="面向对象特性"><a href="#面向对象特性" class="headerlink" title="面向对象特性"></a>面向对象特性</h2><h4 id="类-class"><a href="#类-class" class="headerlink" title="类(class)"></a>类(class)</h4><blockquote>
<p>类是TypeScript的核心，使用TypeScript平时是，大部分代码都写在类里面<br>(类的定义、构造函数、类的继承)</p>
</blockquote>
<ul>
<li>访问控制符<br><code>public</code> ：类的内部外部都能访问(默认)<br><code>private</code> ：只能在类的内部访问(私有的)<br><code>protected</code> ：能在类的内部和子类(继承)中使用(受保护的)</li>
<li><p>类的构造函数</p>
<blockquote>
<p>constructor(){} 不能在外部访问到，只有在类的实例化的时候才会被调用(1次)<br><em>用途:该类实例化的时候必须带某个参数</em></p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class person &#123;</span><br><span class="line">    // 构造函数 </span><br><span class="line">    // 该类实例化的时候必须带ages 属性</span><br><span class="line">    constructor(public ages:number)&#123; // 在构造函数上必须明确声明访问控制符</span><br><span class="line">        this.ages = ages </span><br><span class="line">        console.log(`只会在实例化过后执行一次`)</span><br><span class="line">    &#125;</span><br><span class="line">    public name_n; // public 公开的 默认</span><br><span class="line">    private food; // prevate 私有的 只能在类的内部访问</span><br><span class="line">    protected eat() &#123; // protected 受保护的 只能在类的内部和子类&#123;继承&#125;中使用</span><br><span class="line">        console.log(`$&#123;this.name_n&#125;在吃$&#123;this.food&#125;`)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var per1: person = new person(1)</span><br><span class="line">per1.name_n = &quot;兰海&quot;</span><br><span class="line">console.log(per1.ages)</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>类的继承</p>
<blockquote>
<p>子类 extends 父类<br>super() 调用父类的构造函数<br>super.fn() 调用父类的方法</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class persons &#123;</span><br><span class="line">    // 必须传入名字</span><br><span class="line">    constructor(public name_n: string) &#123;</span><br><span class="line">        this.name_n = name_n</span><br><span class="line">        console.log(`haha`)</span><br><span class="line">    &#125;</span><br><span class="line">    private age: number;</span><br><span class="line">    public eat() &#123;</span><br><span class="line">        console.log(`$&#123;this.name_n&#125;在吃东西`)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// extends 继承来的函数不能声明构造器 可以使用super()</span><br><span class="line">class student extends persons &#123;</span><br><span class="line">    constructor(name_n: string) &#123;</span><br><span class="line">        super(name_n) // 调用父类的构造函数 并执行函数</span><br><span class="line">    &#125;</span><br><span class="line">    public sex: string</span><br><span class="line">    public work() &#123;</span><br><span class="line">        super.eat() // 调用父类的函数(方法)</span><br><span class="line">        console.log(`工作$&#123;super.name_n&#125;`)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var stu = new student(&quot;兰海&quot;);</span><br><span class="line">stu.eat()</span><br><span class="line">stu.work()</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h4 id="泛型-generic"><a href="#泛型-generic" class="headerlink" title="泛型(generic)"></a>泛型(generic)</h4><blockquote>
<p>参数化的类型，一般用来限制集合(数组)里面值的数据类型<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 尖括号里面的就是泛型 规定arr数组里面的值只能是number类型</span><br><span class="line">var arr: Array&lt;number&gt; = new Array()</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="接口-Interface"><a href="#接口-Interface" class="headerlink" title="接口(Interface)"></a>接口(Interface)</h4><blockquote>
<p>用来建立某种代码约定，使得其它开发者在调用某个方法或创建新的类时必须遵循接口所定义的代码约定</p>
<ul>
<li>接口Interface 用户规定参数的类型</li>
<li>implements 实现某接口的类 必须实现该接口中的方法<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// interface 规定参数的类型</span><br><span class="line">interface IPerson &#123;</span><br><span class="line">    name_n: string,</span><br><span class="line">    age?: number</span><br><span class="line">&#125;</span><br><span class="line">class Person &#123;</span><br><span class="line">    constructor(public config: IPerson) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var p1 = new Person(&#123;</span><br><span class="line">    name_n: &quot;兰&quot;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// implements 实现某接口的类，必须实现该接口中的方法</span><br><span class="line">interface Ipers&#123;</span><br><span class="line">    eat();</span><br><span class="line">&#125;</span><br><span class="line">class per implements Ipers &#123;</span><br><span class="line">    eat()&#123;</span><br><span class="line">        console.log(`实现接口中的方法`)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="模块-Module"><a href="#模块-Module" class="headerlink" title="模块(Module)"></a>模块(Module)</h4><blockquote>
<p>模块可以帮助开发者将代码分割为可重用的单元，开发者可以自己决定将模块中的哪些资源(类、方法、变量)暴露出去供外部使用，一个文件就是一个方法</p>
</blockquote>
<ul>
<li><code>export</code> 对外暴露</li>
<li><code>import</code> 引入<h4 id="注释-annotation"><a href="#注释-annotation" class="headerlink" title="注释(annotation)"></a>注释(annotation)</h4><blockquote>
<p>注解为程序的元素(类、方法、变量)加上更直观更明了的说明，这些说明信息与程序的业务逻辑无关，而是供指定的工具或框架使用的</p>
</blockquote>
<h4 id="类型定义文件-d-ts"><a href="#类型定义文件-d-ts" class="headerlink" title="类型定义文件(*.d.ts)"></a>类型定义文件(*.d.ts)</h4><blockquote>
<p>类型定义文件用来帮助开发者在TypeScript中使用已有的js工具包如果:jquery</p>
</blockquote>
</li>
</ul>
<p><code>npm install @types/jquery</code></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>TypeScript的好处很明显，在编译的时候就能检查出很多语法问题，而不是在运行后，不过由于ts是基于类的面向对象编程，如果是纯前端的人员(没有后端的语言基础)，那么用起来会比较吃力。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/12946880-e55d8a924b377a8a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="xmind知识导图"></p>
<h4 id="极致的代码提示"><a href="#极致的代码提示" class="headerlink" title="极致的代码提示"></a>极致的代码提示</h4><h4 id="极致的检查错误"><a href="#极致的检查错误" class="headerlink" title="极致的检查错误"></a>极致的检查错误</h4><h4 id="极致的代码重构"><a href="#极致的代码重构" class="headerlink" title="极致的代码重构"></a>极致的代码重构</h4><h4 id="极致的模块管理"><a href="#极致的模块管理" class="headerlink" title="极致的模块管理"></a>极致的模块管理</h4><h4 id="极致的JS支持"><a href="#极致的JS支持" class="headerlink" title="极致的JS支持"></a>极致的JS支持</h4><h4 id="极致的ES6"><a href="#极致的ES6" class="headerlink" title="极致的ES6"></a>极致的ES6</h4>
      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/css3html5jsTopic/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/css3html5jsTopic/" itemprop="url">html5+css3+基础JavaScript语法题</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T11:43:00+08:00">2019-05-24 11:43:00</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>一些很重要的点 都通过注释写在了代码里面</p>
<ul>
<li><p>求以下的i输出多少?</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var i = 10; // 全局作用域的this 是window</span><br><span class="line">function demo() &#123;</span><br><span class="line">    i = 20; // 函数中未写关键字直接赋值 i为全局变量 </span><br><span class="line">    for (var i = 0; i &lt; 10; i++) &#123; // 执行 10 次 当第十次的时候 i = 10 </span><br><span class="line">    //进行条件判断为false 跳出循环 (var 关键词 变量名相同 向上覆盖)</span><br><span class="line">        console.log(i); // 0 1 2 3 4 5 6 7 8 9</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for 循环 拆构</span><br><span class="line">    var i = 0；</span><br><span class="line">    for (; i &lt; 10;) &#123;</span><br><span class="line">        代码块</span><br><span class="line">        i++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    console.log(i); // 10</span><br><span class="line">    console.log(this.i); // 10 函数中的this 是 window</span><br><span class="line">&#125;;</span><br><span class="line">demo();</span><br><span class="line">console.log(i); // 10</span><br></pre></td></tr></table></figure>
</li>
<li><p>求以下输出的值</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">    age: 18</span><br><span class="line">&#125;;</span><br><span class="line">// (&apos;age&apos; in obj) =&gt; 判断obj对象中是否存在age属性名 //true</span><br><span class="line">if (!(&apos;age&apos; in obj)) &#123; // ! 取反 (!true)=&gt; false </span><br><span class="line">    var a = 20</span><br><span class="line">    console.log(a)</span><br><span class="line">&#125; // 不会输入任何值</span><br></pre></td></tr></table></figure>
</li>
<li><p>arr的值为?</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1,2,1,3,5,9]</span><br><span class="line">// 第一个参数 索引值-&gt;下标</span><br><span class="line">// 第二个参数是 从索引值开始删除几个元素</span><br><span class="line">arr.splice(1,1) // [1,1,3,5,9]</span><br></pre></td></tr></table></figure>
</li>
<li><p>请写出以下结果</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var name = &apos;hello window&apos;;</span><br><span class="line">var obj = &#123;</span><br><span class="line">    name: &quot;objName&quot;,</span><br><span class="line">    getName: function () &#123;</span><br><span class="line">        // this.name =&gt; obj.name </span><br><span class="line">        console.log(this.name) // 这里的this是这个对象obj this-&gt;当前作用域</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.getName(); //打印什么? //“objName”</span><br><span class="line">// 两个等于对比值 </span><br><span class="line">//          obj.name == window.name</span><br><span class="line">//          &quot;objName&quot; == &quot;hello window&quot;</span><br><span class="line">console.log(obj.getName() == name); // false or true // false</span><br></pre></td></tr></table></figure>
</li>
<li><p>将var str = [‘a’,’b’,’c’,3,4,5,’e’,’f’,’g’,’a’,’b’,’c’,’a’,’b’],写出3条js语句实现以下3个功能</p>
</li>
<li><p>去掉数组中的a,b,c字符,得出结果345efg ;</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, 3, 4, 5, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;, &apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;a&apos;, &apos;b&apos;]</span><br><span class="line"></span><br><span class="line">function splice_abc(str) &#123;</span><br><span class="line">    // 正叙循环有可能删不干净 -&gt; 删除一个后 数组的长度就会改变 每个元素的索引值也会改变</span><br><span class="line">    for (let index = str.length; index &gt;= 0; index--) &#123; // 倒叙循环 </span><br><span class="line">        if (str[index] == &apos;a&apos; || str[index] == &apos;b&apos; || str[index] == &apos;c&apos;) &#123;</span><br><span class="line">            str.splice(index, 1)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return str</span><br><span class="line">&#125;</span><br><span class="line">console.log(splice_abc(arr))</span><br></pre></td></tr></table></figure>
</li>
<li><p>将数组中的数字用中括号括起来,得出结果abc[3][4][5]efgabcab;</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, 3, 4, 5, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;, &apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;a&apos;, &apos;b&apos;]</span><br><span class="line"></span><br><span class="line">function parentheses(str) &#123;</span><br><span class="line">    let new_str = &apos;&apos;;</span><br><span class="line">    for (let index = 0; index &lt; str.length; index++) &#123;</span><br><span class="line">        if (typeof str[index] == &quot;number&quot;) &#123; // 判断 该元素是否为 数字类型</span><br><span class="line">            str[index] = `[$&#123;str[index]&#125;]`</span><br><span class="line">        &#125;</span><br><span class="line">        new_str += str[index]</span><br><span class="line">    &#125;</span><br><span class="line">    return new_str</span><br><span class="line">&#125;</span><br><span class="line">console.log(parentheses(arr))</span><br></pre></td></tr></table></figure>
</li>
<li><p>将数组中的数字都乘以2,得出结果 abc6810efgabcab;</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, 3, 4, 5, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;, &apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;a&apos;, &apos;b&apos;]</span><br><span class="line"></span><br><span class="line">function mult(str) &#123;</span><br><span class="line">    let new_str = &apos;&apos;</span><br><span class="line">    for (let index = 0; index &lt; str.length; index++) &#123;</span><br><span class="line">        if (typeof str[index] == &quot;number&quot;) &#123; // 判断 该元素是否为 数字类型</span><br><span class="line">            str[index] = str[index] * 2</span><br><span class="line">        &#125;</span><br><span class="line">        new_str += str[index]</span><br><span class="line">    &#125;</span><br><span class="line">    return new_str</span><br><span class="line">&#125;</span><br><span class="line">console.log(mult(arr))</span><br></pre></td></tr></table></figure>
</li>
<li><p>css的选择器有哪些?优先级是怎样的?<br>选择器有：{<br>基础选择器<img src="https://upload-images.jianshu.io/upload_images/12946880-09e0d6d617479259.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>组合选择器<img src="https://upload-images.jianshu.io/upload_images/12946880-b4ac92507d328d6d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>属性选择器(个人最常用的)<img src="https://upload-images.jianshu.io/upload_images/12946880-0da45104b94f9b78.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>伪类选择器<img src="https://upload-images.jianshu.io/upload_images/12946880-80abd55cf83ef71b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>伪元素选择器<img src="https://upload-images.jianshu.io/upload_images/12946880-40356635096e7bba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
</li>
</ul>
<p>}<br>优先级：(从上到下)<br>!important<br>内联(1,0,0,0) 1000<br>id: (0,1,0,0) 100<br>类：(0,0,1,0) 10<br>伪类/属性<br>元素：(0,0,0,1) 1<br>通配符</p>
<ul>
<li>标准盒模型和怪异盒模型有什么区别?<br>标准盒模型: 一个块的总宽度 = width+padding 左右+margin 左右 + border 左右<br>怪异盒模型: 一个块的总宽度 = width + margin 左右<br>box-sizing:border-box<br>手机端用的更多 pc端也不少 </li>
<li>将一个不定宽高的盒子设置水平垂直居中  方法越多越好</li>
<li><p>通过 定位加 translate 无需手动计算值</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.con &#123;</span><br><span class="line">    width: 500px;</span><br><span class="line">    height: 500px;</span><br><span class="line">    background-color: coral;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.cent &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-color: hotpink;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    transform: translate(-50%, -50%)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过定位加上 手动计算 设置margin</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.con &#123;</span><br><span class="line">    width: 500px;</span><br><span class="line">    height: 500px;</span><br><span class="line">    background-color: coral;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.cent &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-color: hotpink;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    margin-top: -50px;</span><br><span class="line">    margin-left: -50px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>父盒子设置为弹性盒子 水平居中 垂直居中属性</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.con &#123;</span><br><span class="line">    width: 500px;</span><br><span class="line">    height: 500px;</span><br><span class="line">    background-color: coral;</span><br><span class="line">    display: flex;</span><br><span class="line">    /* 弹性盒子 */</span><br><span class="line">    justify-content: center;</span><br><span class="line">    /* 水平居中 */</span><br><span class="line">    align-items: center;</span><br><span class="line">    /*垂直居中*/</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.cent &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-color: hotpink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>将元素转换为表格特性</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.con &#123;</span><br><span class="line">    width: 500px;</span><br><span class="line">    height: 500px;</span><br><span class="line">    background-color: coral;</span><br><span class="line">    display: table-cell;</span><br><span class="line">    /* 作为一个表格单元格显示 td th*/</span><br><span class="line">    text-align: center;</span><br><span class="line">    /*文本居中*/</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.cent &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-color: hotpink;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    /* 行类块元素*/</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    /*把此元素放置在父元素的中部*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;con&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;cent&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>实现以下布局   左边固定宽度200px  右边自适应</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        * &#123;</span><br><span class="line">            padding: 0;</span><br><span class="line">            margin: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .content &#123;</span><br><span class="line">            position: fixed;</span><br><span class="line">            left: 0;</span><br><span class="line">            top: 0;</span><br><span class="line">            right: 0;</span><br><span class="line">            bottom: 0;</span><br><span class="line">            display: flex;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .left &#123;</span><br><span class="line">            height: 100%;</span><br><span class="line">            width: 200px;</span><br><span class="line">            background-color: blueviolet;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .main &#123;</span><br><span class="line">            flex: 1;</span><br><span class="line">            background-color: brown;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 实现以下布局   左边固定宽度200px  右边自适应 --&gt;</span><br><span class="line">    &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;main&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>用过哪些h5c3的新特性?<br>语义化的标签、表单的很多新属性、音屏、视频、canvas、webstorage、websocket、地理位置</p>
</li>
<li><p>封装一个函数,实现求最大值和最小值.</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">// 封装一个函数,实现求最大值和最小值.</span><br><span class="line">function getMaxMin(arr, fn) &#123;</span><br><span class="line">    let max = min = arr[0]</span><br><span class="line">    let type = typeof arr[0] == &quot;string&quot; // 判断数组的第一个元素是否为字符串</span><br><span class="line">    if (!fn) throw new Error(&apos;fn is no incoming&apos;) // 抛异常</span><br><span class="line">    for (let index = 0; index &lt; arr.length; index++) &#123;</span><br><span class="line">        if (type ? fn(max, arr[index]) &lt; 0 : arr[index] &gt; max) &#123;</span><br><span class="line">            max = arr[index]</span><br><span class="line">        &#125;</span><br><span class="line">        if (type ? fn(min, arr[index]) &gt; 0 : arr[index] &lt; min) &#123;</span><br><span class="line">            min = arr[index]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">        max,</span><br><span class="line">        min</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 兼容代码 字符串做比较</span><br><span class="line">function jr(str1, str2) &#123;</span><br><span class="line">    if (str1.length &gt; str2.length) &#123;</span><br><span class="line">        return 1</span><br><span class="line">    &#125; else if (str1.length &lt; str2.length) &#123;</span><br><span class="line">        return -1</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return 0</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">let arr_n = [1, 2, 3, 4, 1, 2, 4, 8]</span><br><span class="line">let obj = getMaxMin(arr_n, jr)</span><br><span class="line">console.log(obj.max, obj.min)</span><br><span class="line"></span><br><span class="line">let arr = [&quot;sdas&quot;, &quot;sdsss&quot;, &quot;22&quot;, &quot;bsjbdjasdbsaj&quot;, &quot;1&quot;]</span><br><span class="line">let obj1 = getMaxMin(arr, jr)</span><br><span class="line">console.log(obj1.max, obj1.min)</span><br></pre></td></tr></table></figure>
</li>
<li><p>封装一个排序</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function sort_n(arr) &#123;</span><br><span class="line">    for (let row = 0; row &lt; arr.length; row++) &#123;</span><br><span class="line">        for (let index = 0; index &lt; arr.length - row; index++) &#123;</span><br><span class="line">            if (arr[index] &gt; arr[index + 1]) &#123;</span><br><span class="line">                let temp = arr[index]</span><br><span class="line">                arr[index] = arr[index + 1]</span><br><span class="line">                arr[index + 1] = temp</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let arr = [1, 2, 5, 6, 8, 4]</span><br><span class="line">console.log(sort_n(arr))</span><br></pre></td></tr></table></figure>
</li>
<li><p>控制台会输出什么,为什么会这样输出</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 声明的函数名、对象名、数组名 在内存中 存放在栈里面</span><br><span class="line">// 通过内存地址相关联</span><br><span class="line">// 函数体和形参列表、对象体、数组值 存放在堆里面</span><br><span class="line">// 复杂数据类型的变量与变量之间的赋值 不是直接将数据复制一份到变量中 是将内存地址复制一份给变量</span><br><span class="line">var a = &#123;age:18&#125;;</span><br><span class="line">var b = a;</span><br><span class="line">a.age = 15;</span><br><span class="line">console.log(b.age) // 15</span><br></pre></td></tr></table></figure>
</li>
<li><p>null 和 undefined的区别?<br>null 表示一个值被定义了 定义为“null”<br>undefined 表示一个值被声明了 但是未赋值<br>所以设置一个值为null是合理的 设置一个值为undefined是不合理的<br>null == undefined (true)<br>null === undefined (false) =&gt; 值相同 (boolean转换都为0) 但是数据类型不同</p>
</li>
<li><p>执行这段代码,输出的结果</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">function test()&#123;</span><br><span class="line">console.log(a); // undefined</span><br><span class="line"></span><br><span class="line">console.log(foo()); // 2</span><br><span class="line">var a = 1;</span><br><span class="line">function foo()&#123;</span><br><span class="line">return 2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br><span class="line">// 预解析 声明是函数和变量都会提升到作用域的最上面</span><br><span class="line">//     函数会将整个函数代码都提升</span><br><span class="line">//     变量只会提升变量的声明</span><br><span class="line">function test()&#123;</span><br><span class="line">	var a;</span><br><span class="line">	console.log(a); // undefined</span><br><span class="line">	function foo()&#123;</span><br><span class="line">		return 2;</span><br><span class="line">	&#125;</span><br><span class="line">	console.log(foo()) // 2</span><br><span class="line">	a = 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>请使用三元表达式完成下列判断</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var a = 1;</span><br><span class="line">if(a &lt; 1)&#123;</span><br><span class="line">  a = 0</span><br><span class="line">&#125;else&#123;</span><br><span class="line">  a = 2</span><br><span class="line">&#125;</span><br><span class="line">// : 前面的为true ，: 后面的为false</span><br><span class="line">var a = a&lt;1?0:2</span><br></pre></td></tr></table></figure>
</li>
<li><p>实现数组去重   方法越多越好<br>var a = [1,3,4,6,1,1,9,4,3]</p>
<ul>
<li>双循环 -&gt;效率不高<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function getN(arr) &#123;</span><br><span class="line">    let now = [arr[0]] // 新数组 -&gt; 将传递进来的数组第一个元素push进去</span><br><span class="line">    for (let index = 0; index &lt; arr.length; index++) &#123; // 循环传递进来的数组</span><br><span class="line">        let flag = true // 声名一个flag 用来判断是否重复</span><br><span class="line">        for (let i = 0; i &lt; now.length; i++) &#123; // 循环新数组 </span><br><span class="line">            if (arr[index] === now[i]) &#123; // 判断是否有一样的元素</span><br><span class="line">                flag = false </span><br><span class="line">                break</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (flag) &#123;</span><br><span class="line">            now.push(arr[index]) </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return now</span><br><span class="line">&#125;</span><br><span class="line">console.log(getN([1, 2, 11, 2, 1, 2, 5, 22, 11, 545, 12]))</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>es6新方法</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// es6 新提供的方法</span><br><span class="line">// Set 数据不重复</span><br><span class="line">function es6_set(arr) &#123;</span><br><span class="line">    return new Set(arr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(es6_set([1, 2, 11, 2, 1, 2, 5, 22, 11, 545, 12]))</span><br></pre></td></tr></table></figure>
</li>
<li><p>indexof</p>
</li>
<li>布局中,造成盒子margin塌陷的原因是什么? 怎么解决塌陷问题?<br>Margin 塌陷 是什么？<br>当父元素包裹着子元素(都为block块级元素)，当给子元素设置margin-top时。子元素没有位移 反而父元素位移了<br>如何解决？<br>给父元素 加border<br>给父元素 溢出隐藏 overflow: hidden;<br>给父元素 加浮动<br>给父元素 设置 display:table<br>给父元素 设置 position:fixed<br>给子元素 设置 display:inline-block<br>通过伪元素来解决margin塌陷</li>
<li>如何清除浮动? 方法越多越好<br>额外标签法 在浮动标签的后面添加一个元素 该元素设置 clear:both<br>使用overflow 给父盒子设置 overflow:hidden<br>伪元素清除浮动<br>双伪元素清除浮动<br><a href="https://www.jianshu.com/p/25766fe5b34f" target="_blank" rel="noopener">https://www.jianshu.com/p/25766fe5b34f</a></li>
</ul>

      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/BlessingWall/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/BlessingWall/" itemprop="url">祝福墙案例分析</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T11:00:29+08:00">2019-05-24 11:00:29</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p><img src="https://upload-images.jianshu.io/upload_images/12946880-029fad5e0f7d3e9a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p><img src="https://upload-images.jianshu.io/upload_images/12946880-fa4ec6e3ef9ea312.GIF?imageMogr2/auto-orient/strip" alt="git无法加载无关紧要 可直接在git上下载demo"></p>
<p><a href="https://github.com/LanHai1/blessingWall" target="_blank" rel="noopener">github网址-&gt;可直接下载demo</a><br>使用到了的技术有:本地存储、随机数、事件托管、事件处理、节点找元素、动态添加元素<br>扩展内容:(Chrome浏览器)今天在写input:button的时候 给元素加高度 突然就失效了 高度无法设置 查资料 是私有属性的问题 需要为元素添加 <code>-webkit-appearance: button;</code> 即可<br><code>样式和结构不做过多说明了</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            outline: none;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        body &#123;</span><br><span class="line">            background: url(&quot;images/bg.gif&quot;);</span><br><span class="line">            font: 12px &quot;simsun&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .content &#123;</span><br><span class="line">            width: 960px;</span><br><span class="line">            height: 627px;</span><br><span class="line">            margin: 0 auto;</span><br><span class="line">            background: url(&quot;images/content_bg.jpg&quot;);</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .clearfix &#123;</span><br><span class="line">            *zoom: 1;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .clearfix:before,</span><br><span class="line">        .clearfix:after &#123;</span><br><span class="line">            content: &apos;&apos;;</span><br><span class="line">            display: table;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .clearfix:after &#123;</span><br><span class="line">            clear: both;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .tip &#123;</span><br><span class="line">            width: 227px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 100px;</span><br><span class="line">            left: 200px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .tip-h &#123;</span><br><span class="line">            padding-top: 50px;</span><br><span class="line">            background: url(&quot;images/tip1_h.gif&quot;) no-repeat;</span><br><span class="line">            cursor: default;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .text &#123;</span><br><span class="line">            float: left;</span><br><span class="line">            padding-left: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .close &#123;</span><br><span class="line">            float: right;</span><br><span class="line">            margin-right: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .tip-m &#123;</span><br><span class="line">            min-height: 40px;</span><br><span class="line">            padding: 0 10px;</span><br><span class="line">            padding-top: 10px;</span><br><span class="line">            background: url(&quot;images/tip1_c.gif&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .tip-f &#123;</span><br><span class="line">            height: 53px;</span><br><span class="line">            background: url(&quot;images/tip1_f.gif&quot;);</span><br><span class="line">            padding-top: 20px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .icon &#123;</span><br><span class="line">            float: left;</span><br><span class="line">            padding-left: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .name &#123;</span><br><span class="line">            float: right;</span><br><span class="line">            padding-right: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .submit_con &#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            z-index: 9999;</span><br><span class="line">            width: 100%;</span><br><span class="line">            height: 100%;</span><br><span class="line">            background-color: rgba(0, 0, 0, 0.5);</span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .submit_con&gt;.con_s &#123;</span><br><span class="line">            width: 300px;</span><br><span class="line">            height: 300px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 50%;</span><br><span class="line">            left: 50%;</span><br><span class="line">            transform: translate(-50%, -50%);</span><br><span class="line">            border-radius: 5px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            background-color: #e8deff;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #text_con &#123;</span><br><span class="line">            resize: none;</span><br><span class="line">            border: none;</span><br><span class="line">            width: 100%;</span><br><span class="line">            height: 200px;</span><br><span class="line">            border-radius: 5px;</span><br><span class="line">            box-sizing: border-box;</span><br><span class="line">            padding: 10px;</span><br><span class="line">            background-color: none;</span><br><span class="line">            background-color: #ded4f3c2;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #name_con &#123;</span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 30px;</span><br><span class="line">            line-height: 30px;</span><br><span class="line">            border: 0;</span><br><span class="line">            float: right;</span><br><span class="line">            border-radius: 5px;</span><br><span class="line">            padding-left: 10px;</span><br><span class="line">            margin: 30px 10px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #submit &#123;</span><br><span class="line">            width: 40px;</span><br><span class="line">            -webkit-appearance: button;</span><br><span class="line">            height: 30px;</span><br><span class="line">            background-color: #fff;</span><br><span class="line">            border: 0;</span><br><span class="line">            border-radius: 5px;</span><br><span class="line">            margin: 30px 20px;</span><br><span class="line">            float: right;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">            font-size: 12px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .addMessage &#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            width: 60px;</span><br><span class="line">            height: 60px;</span><br><span class="line">            font-size: 12px;</span><br><span class="line">            line-height: 60px;</span><br><span class="line">            border-radius: 50%;</span><br><span class="line">            text-align: center;</span><br><span class="line">            z-index: 999;</span><br><span class="line">            background-color: #9466FF;</span><br><span class="line">            box-sizing: border-box;</span><br><span class="line">            top: 10px;</span><br><span class="line">            left: 10px;</span><br><span class="line">            color: #fff;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">            display: inline-block;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #errSpan &#123;</span><br><span class="line">            color: red;</span><br><span class="line">            position: absolute;</span><br><span class="line">            bottom: 8px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #closeDT &#123;</span><br><span class="line">            text-decoration: none;</span><br><span class="line">            float: left;</span><br><span class="line">            color: #000;</span><br><span class="line">            margin: 72px 10px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;content&quot; id=&quot;content&quot;&gt;</span><br><span class="line">        &lt;a class=&quot;addMessage&quot; id=&quot;addMessage&quot;&gt;添加留言&lt;/a&gt;</span><br><span class="line">        &lt;div class=&quot;submit_con&quot; id=&quot;submit_con&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;con_s&quot;&gt;</span><br><span class="line">                &lt;textarea name=&quot;&quot; cols=&quot;30&quot; rows=&quot;10&quot; id=&quot;text_con&quot; placeholder=&quot;留言&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; placeholder=&quot;姓名&quot; id=&quot;name_con&quot;&gt;</span><br><span class="line">                &lt;input type=&quot;button&quot; value=&quot;提交&quot; id=&quot;submit&quot;&gt;</span><br><span class="line">                &lt;a href=&quot;#&quot; id=&quot;closeDT&quot;&gt;关闭&lt;/a&gt;</span><br><span class="line">                &lt;span id=&quot;errSpan&quot;&gt;&lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 一个祝福墙模版 --&gt;</span><br><span class="line">        &lt;!-- &lt;div class=&quot;tip&quot; id=&quot;tip&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;tip-h clearfix&quot; title=&quot;双击关闭纸条&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;text&quot;&gt;第[49568]条 2019-04-16 22:51:52&lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;close&quot; title=&quot;关闭纸条&quot;&gt;x&lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;tip-m&quot;&gt;这是一个寂寞的天，下着有些猥琐的雨&lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;tip-f clearfix&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;icon&quot;&gt;</span><br><span class="line">                    &lt;img src=&quot;images/bpic_1.gif&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;name&quot;&gt;群姐&lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt; --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;幸福墙案例.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p><code>行为 =&gt; JavaScript代码</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br></pre></td><td class="code"><pre><span class="line">// 根据id获取元素</span><br><span class="line">function $(id) &#123;</span><br><span class="line">    return document.getElementById(id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 首次加载数据</span><br><span class="line">var messages = [&#123;</span><br><span class="line">    &quot;id&quot;: 1,</span><br><span class="line">    &quot;name&quot;: &quot;张学友&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;刘德华说的对&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;2017-12-26 00:00:00&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    &quot;id&quot;: 2,</span><br><span class="line">    &quot;name&quot;: &quot;刘德华&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;周林林比林利群帅&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;2017-12-25 12:40:00&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    &quot;id&quot;: 3,</span><br><span class="line">    &quot;name&quot;: &quot;郭富城&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;我认同张学友说的&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;2017-12-25 12:45:00&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    &quot;id&quot;: 4,</span><br><span class="line">    &quot;name&quot;: &quot;林利群&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;把朋友家厕所拉堵了 不敢出去 掏了半小时了都&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;2017-12-24 12:40:00&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    &quot;id&quot;: 5,</span><br><span class="line">    &quot;name&quot;: &quot;周林林&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;师者，所以传道受业解惑也。&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;2016-02-22 12:40:00&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    &quot;id&quot;: 6,</span><br><span class="line">    &quot;name&quot;: &quot;紫霞&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;至尊宝，等我&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;2017-12-23 09:30:00&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    &quot;id&quot;: 7,</span><br><span class="line">    &quot;name&quot;: &quot;孙悟空&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;吃俺老孙一棒！&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;2017-12-23 09:30:00&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    &quot;id&quot;: 8,</span><br><span class="line">    &quot;name&quot;: &quot;某某&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;旋转，跳跃，我不停歇…………舞娘的喜悲没人看见&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;2017-12-26 01:30:00&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    &quot;id&quot;: 9,</span><br><span class="line">    &quot;name&quot;: &quot;哎呦哎呦&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;今天谁的礼物最好看！！？答：朋友圈。。。&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;2017-12-25 20:30:00&quot;</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">// id处理 =&gt; 无数据库 从100开始</span><br><span class="line">let id = getLocalStorage(&quot;id&quot;)</span><br><span class="line">    // id是否已存在本地 默认100开始</span><br><span class="line">id = id ? id : 100</span><br><span class="line">    // 存储id</span><br><span class="line">setLocalStorage(&quot;id&quot;, id)</span><br><span class="line"></span><br><span class="line">// 获取留言数据</span><br><span class="line">let data = getLocalStorage(&quot;data&quot;)</span><br><span class="line">    //  是否存在数据 =&gt; 不能删除到一条都不剩</span><br><span class="line">data = data ? data : messages</span><br><span class="line">    // 存储原有数据</span><br><span class="line">setLocalStorage(&quot;data&quot;, data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 将数据本地存储</span><br><span class="line">function setLocalStorage(key, value) &#123;</span><br><span class="line">    localStorage.setItem(key, JSON.stringify(value))</span><br><span class="line">&#125;</span><br><span class="line">// 获取数据</span><br><span class="line">function getLocalStorage(key) &#123;</span><br><span class="line">    return JSON.parse(localStorage.getItem(key))</span><br><span class="line">&#125;</span><br><span class="line">// 删除数据</span><br><span class="line">function removeLocalStorage(key) &#123;</span><br><span class="line">    localStorage.removeItem(key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 找到 content 元素</span><br><span class="line">var content = document.getElementById(&apos;content&apos;);</span><br><span class="line"></span><br><span class="line">// 层级</span><br><span class="line">let zIndex = 1;</span><br><span class="line"></span><br><span class="line">// 为祝福墙贴纸做对应的事件与绑定</span><br><span class="line">function setMessageCreateNew(data) &#123;</span><br><span class="line">    let tip = document.createElement(&quot;div&quot;)</span><br><span class="line"></span><br><span class="line">    let obj = data</span><br><span class="line"></span><br><span class="line">    tip.className = &quot;tip&quot;</span><br><span class="line">    tip.innerHTML = &apos;&lt;div class=&quot;tip-h clearfix&quot; title=&quot;双击关闭纸条&quot;&gt;&apos; +</span><br><span class="line">        &apos;&lt;div class=&quot;text&quot;&gt;第[&apos; + obj.id + &apos;]条 &apos; + obj.time + &apos;&lt;/div&gt;&apos; +</span><br><span class="line">        &apos;&lt;div class=&quot;close&quot; title=&quot;关闭纸条&quot;&gt;x&lt;/div&gt;&apos; +</span><br><span class="line">        &apos;&lt;/div&gt;&apos; +</span><br><span class="line">        &apos;&lt;div class=&quot;tip-m&quot;&gt;&apos; + obj.content + &apos;&lt;/div&gt;&apos; +</span><br><span class="line">        &apos;&lt;div class=&quot;tip-f clearfix&quot;&gt;&apos; +</span><br><span class="line">        &apos;&lt;div class=&quot;icon&quot;&gt;&apos; +</span><br><span class="line">        &apos;&lt;img src=&quot;images/bpic_1.gif&quot; alt=&quot;&quot; /&gt;&apos; +</span><br><span class="line">        &apos;&lt;/div&gt;&apos; +</span><br><span class="line">        &apos;&lt;div class=&quot;name&quot;&gt;&apos; + obj.name + &apos;&lt;/div&gt;&apos; +</span><br><span class="line">        &apos;&lt;/div&gt;&apos;;</span><br><span class="line"></span><br><span class="line">    // 将元素追加到对应的父盒子中</span><br><span class="line">    content.appendChild(tip)</span><br><span class="line">        // 随机设置位置</span><br><span class="line">    setElXY(tip)</span><br><span class="line">        // 删除留言板</span><br><span class="line">    tip.getElementsByClassName(&quot;close&quot;)[0].onclick = function() &#123;</span><br><span class="line">            // </span><br><span class="line">            removeTip(obj)</span><br><span class="line">                // 找到当前留言 并通过父盒子删除该元素</span><br><span class="line">            this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode)</span><br><span class="line">        &#125;</span><br><span class="line">        // 双击删除</span><br><span class="line">    tip.getElementsByClassName(&quot;tip-h&quot;)[0].ondblclick = function() &#123;</span><br><span class="line">            removeTip(obj)</span><br><span class="line">            this.parentNode.parentNode.removeChild(this.parentNode)</span><br><span class="line">        &#125;</span><br><span class="line">        // z-index</span><br><span class="line">    tip.onclick = function() &#123;</span><br><span class="line">        this.style.zIndex = ++zIndex</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 删除留言板</span><br><span class="line">function removeTip(obj) &#123;</span><br><span class="line">    // 获取所有数据</span><br><span class="line">    let datas = getLocalStorage(&quot;data&quot;)</span><br><span class="line">        // 循环遍历</span><br><span class="line">    for (let i = 0; i &lt; datas.length; i++) &#123;</span><br><span class="line">        // 通过id 找 对应的数据对象</span><br><span class="line">        if (datas[i][&quot;id&quot;] == obj.id) &#123;</span><br><span class="line">            // 删除该数据</span><br><span class="line">            datas.splice(i, 1)</span><br><span class="line">                // 直接跳出循环</span><br><span class="line">            break</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 将处理好的新数据 重新设置回本地存储里</span><br><span class="line">    setLocalStorage(&quot;data&quot;, datas)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 渲染至页面</span><br><span class="line">for (let i = 0; i &lt; data.length; i++) &#123;</span><br><span class="line">    setMessageCreateNew(data[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 设置元素topleft</span><br><span class="line">function setElXY(el) &#123;</span><br><span class="line">    el.style.left = randomXY(content.offsetWidth, 227)</span><br><span class="line">    el.style.top = randomXY(content.offsetHeight, 190)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 随机数 x y</span><br><span class="line">function randomXY(max, min) &#123;</span><br><span class="line">    max = parseInt(max)</span><br><span class="line">    min = parseInt(min)</span><br><span class="line">    return parseInt(Math.random() * (max - min + 1)) + &quot;px&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let flagDTClose = true</span><br><span class="line">    // 动态添加数据层</span><br><span class="line">$(&quot;addMessage&quot;).onclick = function() &#123;</span><br><span class="line">    this.style.display = flagDTClose ? &quot;none&quot; : &quot;block&quot;</span><br><span class="line">    $(&quot;submit_con&quot;).style.display = flagDTClose ? &quot;block&quot; : &quot;none&quot;</span><br><span class="line">    flagDTClose = false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 关闭添加</span><br><span class="line">function closeDT() &#123;</span><br><span class="line">    $(&quot;addMessage&quot;).style.display = flagDTClose ? &quot;none&quot; : &quot;block&quot;</span><br><span class="line">    $(&quot;submit_con&quot;).style.display = flagDTClose ? &quot;block&quot; : &quot;none&quot;</span><br><span class="line">    flagDTClose = true</span><br><span class="line">&#125;</span><br><span class="line">// 关闭</span><br><span class="line">$(&quot;closeDT&quot;).onclick = function() &#123;</span><br><span class="line">    closeDT()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 添加数据</span><br><span class="line">$(&quot;submit&quot;).onclick = function() &#123;</span><br><span class="line">    setMessage()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数据处理</span><br><span class="line">function setMessage() &#123;</span><br><span class="line">    // 获取用户输入</span><br><span class="line">    let text_con = $(&quot;text_con&quot;).value</span><br><span class="line">    let name_con = $(&quot;name_con&quot;).value</span><br><span class="line">    let date = getDate(new Date())</span><br><span class="line">        // 判读是否输入</span><br><span class="line">    if (text_con.length == 0 || name_con.length == 0) &#123;</span><br><span class="line">        $(&quot;errSpan&quot;).innerHTML = &quot;请填写留言信息和留言人&quot;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line">    // 获取全部数据</span><br><span class="line">    let data = getLocalStorage(&quot;data&quot;)</span><br><span class="line">        // 用户输入的单条数据</span><br><span class="line">    let idOne = getLocalStorage(&quot;id&quot;) + 1</span><br><span class="line">        // id重新+1 </span><br><span class="line">    setLocalStorage(&quot;id&quot;, idOne)</span><br><span class="line">        // 单条数据对象</span><br><span class="line">    let oneData = &#123;</span><br><span class="line">            &quot;id&quot;: idOne,</span><br><span class="line">            &quot;name&quot;: name_con,</span><br><span class="line">            &quot;content&quot;: text_con,</span><br><span class="line">            &quot;time&quot;: date</span><br><span class="line">        &#125;</span><br><span class="line">        // 将数据添加到原数据的最后面</span><br><span class="line">    data.push(oneData)</span><br><span class="line"></span><br><span class="line">    // 保存本地</span><br><span class="line">    setLocalStorage(&quot;data&quot;, data)</span><br><span class="line"></span><br><span class="line">    // 将新数据追加到页面</span><br><span class="line">    setMessageCreateNew(oneData)</span><br><span class="line"></span><br><span class="line">    // 添加完毕 关闭</span><br><span class="line">    closeDT()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 获取时间 </span><br><span class="line">// 2017-12-25 20:30:00</span><br><span class="line">function getDate(newDate) &#123;</span><br><span class="line">    let date = newDate</span><br><span class="line">    return `$&#123;date.getFullYear()&#125;-$&#123;setDateOne(date.getMonth()+1)&#125;-$&#123;setDateOne(date.getDate())&#125; $&#123;setDateOne(date.getHours())&#125;:$&#123;setDateOne(date.getMinutes())&#125;:$&#123;setDateOne(date.getSeconds())&#125;`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 时间日期一位数 转 二位数</span><br><span class="line">function setDateOne(data) &#123;</span><br><span class="line">    return data &gt;= 10 ? data : `0$&#123;data&#125;`</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/slider/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/slider/" itemprop="url">slider详细步骤注释</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T10:57:09+08:00">2019-05-24 10:57:09</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <h5 id="在JavaScript代码里几乎每行都写了注释-方便新学者入门～-也方便我回顾🙂️"><a href="#在JavaScript代码里几乎每行都写了注释-方便新学者入门～-也方便我回顾🙂️" class="headerlink" title="在JavaScript代码里几乎每行都写了注释 方便新学者入门～ 也方便我回顾🙂️"></a>在JavaScript代码里几乎每行都写了注释 方便新学者入门～ 也方便我回顾🙂️</h5><p><code>github demo -&gt;</code> <a href="https://github.com/LanHai1/slider" target="_blank" rel="noopener">https://github.com/LanHai1/slider</a><br><img src="https://upload-images.jianshu.io/upload_images/12946880-4c5cc103e4a32411.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<hr>
<h4 id="动画移动元素"><a href="#动画移动元素" class="headerlink" title="动画移动元素"></a>动画移动元素</h4><p>思路:</p>
<ul>
<li>执行动画之前先清除动画定时器id=&gt;(避免用户多次点击动画速度变快)<br>将定时器id给每个移动元素 =&gt; el.timeId =&gt; 如果直接给有可能会造成停止一个元素动画影响其他元素</li>
<li>先获取移动动画的当前位置</li>
<li>判断每次是正走10 还是反走10 =&gt; 10||-10</li>
<li>判断元素在运动的当前位置是否还能继续走10 不能走就直接闪现到目标位置<br>绝对值(目标位置-当前位置)&gt;10 绝对值是因为有可能是正走或者反走 但是每次走的距离是一样的</li>
<li>设置元素的位置</li>
<li>判断是否已经到达目标值 清理移动定时器<h5 id="xmind-动画移动元素"><a href="#xmind-动画移动元素" class="headerlink" title="xmind 动画移动元素"></a>xmind 动画移动元素</h5><img src="https://upload-images.jianshu.io/upload_images/12946880-a1706ae07be8a2bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></li>
</ul>
<hr>
<h4 id="无缝轮播图"><a href="#无缝轮播图" class="headerlink" title="无缝轮播图"></a>无缝轮播图</h4><p>思路</p>
<ul>
<li>鼠标移入轮播区域盒子 显示隐藏 箭头</li>
<li>声明一个与图片同步的 索引 index =声明一个与页码同步的 索引 pageIndex = 0</li>
<li>克隆轮播第一张图在最后 =&gt; 无缝轮播</li>
<li>右点击箭头注册点击事件<br>判断是否是当前轮播是否是最后一张图(克隆过来的第一张图)<br>对应索引值index 和 整个ul(轮播图片)的children的长度 - 1 判断<br>直接闪现到第一张图<br>index = 0<br>再次调用动画函数<br>每次点击 index++<br>每次点击 pageIndex++<br>判断当前页码是否到了最后一个<br>pageIndex == 整个ul(轮播图片)的children的长度 - 1<br>pageIndex = 0<br>直接闪现到第一个页码<br>调用设置对应页码功能函数<br>传入页码li 和 pageIndex<br>调用设置对应页码功能函数<br>传入页码li 和 pageIndex<br>调用动画移动元素<br>传入移动的元素<br>传入移动的目标位置<br>-index*轮播外盒子=&gt;轮播一张图片的宽度<br>取负值 左箭头和右箭头 都是往右移动<br>注意 这个🉐️需要在每次点击index++ 之前做判断</li>
<li>左箭头注册点击事件<br>判断当前轮播是否是第一张图片 并且继续往左点击<br>对应索引值index==0<br>直接闪现到对应的最后一张图<br>index = 整个ul的children的长度 - 1<br>再次调用动画函数<br>和右箭头一样 不同的是每次点击 index– 和 pageIndex–<br>判断当前页码是否是一个 并且继续往左点击<br>pageIndex == -1<br>pageIndex =  整个ul(轮播图片)的children的长度 - 2<br>调用设置对应页码功能函数<br>传入页码li 和 pageIndex<br>注意 这个🉐️需要在每次点击index– 之前做判断</li>
<li>设置对应页码功能<br>循环变量每个页码li<br>给每个li设置一个自定义属性 存放对应的索引值<br>为每个li设置点击事件<br>index = 当前li的自定义属性=&gt;存放的索引值<br>调用动画函数<br>调用设置页码排他样式的函数</li>
<li>设置对应页码排他样式<br>循环遍历 进行排他 清除所有li的点击高亮的样式<br>为当前点击的li设置高量的样式</li>
<li>设置定时器定时轮播<br>声明一个变量定时器<br>页码加载开始 直接开启一个定时器<br>setInterval(封装右箭头点击函数,3000)<br>鼠标移入轮播区域关闭轮播定时器<br>鼠标移出开启一个 轮播定时器<h5 id="xmind-无缝轮播图"><a href="#xmind-无缝轮播图" class="headerlink" title="xmind 无缝轮播图"></a>xmind 无缝轮播图</h5><img src="https://upload-images.jianshu.io/upload_images/12946880-d1cb3b3299ad2d1e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></li>
</ul>
<h4 id="无缝轮播图-图解"><a href="#无缝轮播图-图解" class="headerlink" title="无缝轮播图 图解"></a>无缝轮播图 图解</h4><p><img src="https://upload-images.jianshu.io/upload_images/12946880-d4756cef96b030ae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p><code>样式结构</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line"></span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">        * &#123;</span><br><span class="line">            padding: 0;</span><br><span class="line">            margin: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">            border: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .all &#123;</span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 200px;</span><br><span class="line">            padding: 7px;</span><br><span class="line">            border: 1px solid #ccc;</span><br><span class="line">            margin: 100px auto;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .screen &#123;</span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 200px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .screen li &#123;</span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 200px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .screen ul &#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            left: 0;</span><br><span class="line">            top: 0;</span><br><span class="line">            /*要足够宽才放到一行里*/</span><br><span class="line">            width: 3000px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .all ol &#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            right: 10px;</span><br><span class="line">            bottom: 10px;</span><br><span class="line">            line-height: 20px;</span><br><span class="line">            text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .all ol li &#123;</span><br><span class="line">            float: left;</span><br><span class="line">            width: 20px;</span><br><span class="line">            height: 20px;</span><br><span class="line">            background: #fff;</span><br><span class="line">            border: 1px solid #ccc;</span><br><span class="line">            margin-left: 10px;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line">        /*点到哪个页码就让哪个页码加一个current类就变黄了*/</span><br><span class="line">        </span><br><span class="line">        .all ol li.current &#123;</span><br><span class="line">            background: yellow;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #arr &#123;</span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #arr span &#123;</span><br><span class="line">            width: 40px;</span><br><span class="line">            height: 40px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            left: 5px;</span><br><span class="line">            top: 50%;</span><br><span class="line">            margin-top: -20px;</span><br><span class="line">            background: #000;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">            line-height: 40px;</span><br><span class="line">            text-align: center;</span><br><span class="line">            font-weight: bold;</span><br><span class="line">            font-family: &apos;黑体&apos;;</span><br><span class="line">            font-size: 30px;</span><br><span class="line">            color: #fff;</span><br><span class="line">            /*透明度：这个是指全透明*/</span><br><span class="line">            opacity: 0.3;</span><br><span class="line">            border: 1px solid #fff;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #arr #right &#123;</span><br><span class="line">            /*距离父元素右边5像素*/</span><br><span class="line">            right: 5px;</span><br><span class="line">            /*代表把left的值清空（设置为默认值）*/</span><br><span class="line">            left: auto;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;all&quot; id=&apos;box&apos;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 显示图片的区域 --&gt;</span><br><span class="line">        &lt;div class=&quot;screen&quot;&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;images/1.jpg&quot; width=&quot;500&quot; height=&quot;200&quot; /&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;images/2.jpg&quot; width=&quot;500&quot; height=&quot;200&quot; /&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;images/3.jpg&quot; width=&quot;500&quot; height=&quot;200&quot; /&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;images/4.jpg&quot; width=&quot;500&quot; height=&quot;200&quot; /&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;images/5.jpg&quot; width=&quot;500&quot; height=&quot;200&quot; /&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;!-- 页码 --&gt;</span><br><span class="line">            &lt;ol&gt;</span><br><span class="line">                &lt;li class=&quot;current&quot;&gt;1&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;2&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;3&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;4&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;5&lt;/li&gt;</span><br><span class="line">            &lt;/ol&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 左右箭头那一部分 --&gt;</span><br><span class="line">        &lt;div id=&quot;arr&quot;&gt;&lt;span id=&quot;left&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span id=&quot;right&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p><code>行为 JavaScript代码</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line">// 通过id获取元素</span><br><span class="line">function $(id) &#123;</span><br><span class="line">    return document.getElementById(id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 最外层盒子</span><br><span class="line">let box = $(&quot;box&quot;)</span><br><span class="line"></span><br><span class="line">// 箭头盒子</span><br><span class="line">let arr_box = $(&quot;arr&quot;)</span><br><span class="line"></span><br><span class="line">// 左箭头</span><br><span class="line">let left_arr = $(&quot;left&quot;)</span><br><span class="line"></span><br><span class="line">// 右箭头</span><br><span class="line">let right_arr = $(&quot;right&quot;)</span><br><span class="line"></span><br><span class="line">// 轮播图片区域宽度</span><br><span class="line">let screenWidth = document.querySelector(&quot;.screen&quot;).offsetWidth</span><br><span class="line"></span><br><span class="line">// 轮播ul</span><br><span class="line">let ul_banner = document.querySelector(&quot;.screen &gt; ul&quot;)</span><br><span class="line"></span><br><span class="line">// 页码</span><br><span class="line">let ol_banner_current = document.querySelectorAll(&quot;.screen &gt; ol &gt; li&quot;)</span><br><span class="line"></span><br><span class="line">// 克隆轮播第一张图片 =&gt; 无缝轮播</span><br><span class="line">ul_banner.appendChild(ul_banner.children[0].cloneNode(true))</span><br><span class="line"></span><br><span class="line">//定时器</span><br><span class="line">let timeId</span><br><span class="line">timeId = setInterval(nextPage, 3000)</span><br><span class="line"></span><br><span class="line">// 鼠标移入移除显示隐藏 箭头</span><br><span class="line">box.onmouseover = function() &#123;</span><br><span class="line">    // 清除定时器 用户操作</span><br><span class="line">    clearInterval(timeId)</span><br><span class="line">    arr_box.style.display = &quot;block&quot;</span><br><span class="line">&#125;</span><br><span class="line">box.onmouseout = function() &#123;</span><br><span class="line">    // 继续轮播 开启定时器</span><br><span class="line">    timeId = setInterval(nextPage, 3000)</span><br><span class="line">    arr_box.style.display = &quot;none&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 左右箭头事件 下一张 上一张</span><br><span class="line">// 图片索引值</span><br><span class="line">let index = 0</span><br><span class="line"></span><br><span class="line">// 页码索引</span><br><span class="line">let pageIndex = 0</span><br><span class="line">right_arr.onclick = function() &#123;</span><br><span class="line">    nextPage()</span><br><span class="line">&#125;</span><br><span class="line">left_arr.onclick = function() &#123;</span><br><span class="line">    // 判断是否是第一张 并且继续往左移动</span><br><span class="line">    if (index == 0) &#123;</span><br><span class="line">        // 直接闪现到图片的倒数第二张(克隆前最后一张)</span><br><span class="line">        index = ul_banner.children.length - 1</span><br><span class="line">        ul_banner.style.left = `$&#123;-index*screenWidth&#125;px`</span><br><span class="line">    &#125;</span><br><span class="line">    // 索引每次减一</span><br><span class="line">    index--</span><br><span class="line">    pageIndex--</span><br><span class="line">    // 判断是否页码在第一个 并且继续往左走 =&gt; 直接去最后一个页码</span><br><span class="line">    if (pageIndex == -1) &#123;</span><br><span class="line">        pageIndex = ul_banner.children.length - 2</span><br><span class="line">        setPageClass(ol_banner_current, pageIndex)</span><br><span class="line">    &#125;</span><br><span class="line">    setPageClass(ol_banner_current, pageIndex)</span><br><span class="line">    bannerAnimation(ul_banner, -index * screenWidth)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 页码功能</span><br><span class="line">for (let i = 0; i &lt; ol_banner_current.length; i++) &#123;</span><br><span class="line">    // 设置自定义属性 存放索引</span><br><span class="line">    ol_banner_current[i].setAttribute(&quot;index&quot;, i)</span><br><span class="line">        // 设置点击事件 触发排他设置页码样式</span><br><span class="line">    ol_banner_current[i].onclick = function() &#123;</span><br><span class="line">        // 轮播区域跟着页码点击一起移动</span><br><span class="line">        index = pageIdex =  +this.getAttribute(&quot;index&quot;)</span><br><span class="line">        bannerAnimation(ul_banner, -index * screenWidth)</span><br><span class="line">        setPageClass(ol_banner_current, +this.getAttribute(&quot;index&quot;))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 设置页码样式</span><br><span class="line"> * @param &#123;*&#125; el 页码</span><br><span class="line"> * @param &#123;*&#125; thisIndex 高亮的元素索引</span><br><span class="line"> */</span><br><span class="line">function setPageClass(el, thisIndex) &#123;</span><br><span class="line">    // 循环排它</span><br><span class="line">    for (let i = 0; i &lt; el.length; i++) &#123;</span><br><span class="line">        el[i].removeAttribute(&quot;class&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    // 设置高亮</span><br><span class="line">    el[thisIndex].className = &quot;current&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 移动动画</span><br><span class="line"> * @param &#123;element&#125; el 移动的元素</span><br><span class="line"> * @param &#123;number&#125; target 目标位置</span><br><span class="line"> */</span><br><span class="line">function bannerAnimation(el, target) &#123;</span><br><span class="line">    // 设定定时器前先清理定时器</span><br><span class="line">    clearInterval(el.timeId)</span><br><span class="line"></span><br><span class="line">    // 将定时器id给元素里面的属性 定时器id唯一化 不会影响其他移动元素</span><br><span class="line">    el.timeId = setInterval(() =&gt; &#123;</span><br><span class="line">        // 元素当前位置</span><br><span class="line">        let count = el.offsetLeft</span><br><span class="line"></span><br><span class="line">        // 每次走10 判断左走还是右走</span><br><span class="line">        count += target &gt; count ? 10 : -10</span><br><span class="line"></span><br><span class="line">        // 判断是否还能继续走10 不能直接跳到目标位置 取绝对值 可能是负数</span><br><span class="line">        count = Math.abs(target - count) &gt; 10 ? count : target</span><br><span class="line"></span><br><span class="line">        // 设置元素位置</span><br><span class="line">        el.style.left = `$&#123;count&#125;px`</span><br><span class="line"></span><br><span class="line">        // 达到目标位置 结束定时器 =&gt; 结束动画</span><br><span class="line">        if (target == count) &#123;</span><br><span class="line">            clearInterval(el.timeId)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, 20)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 下一张 =&gt; 定时轮播</span><br><span class="line"> */</span><br><span class="line">function nextPage() &#123;</span><br><span class="line">    // 判断是否是最后一张 =&gt; 闪现到第一张 =&gt; 无缝轮播</span><br><span class="line">    if (index == ul_banner.children.length - 1) &#123; // 5 = 5</span><br><span class="line">        // 直接闪现到第一张图片即可</span><br><span class="line">        index = 0</span><br><span class="line">        ul_banner.style.left = `$&#123;-index*screenWidth&#125;px`</span><br><span class="line">    &#125;</span><br><span class="line">    // 索引每次加一</span><br><span class="line">    index++</span><br><span class="line">    // 页码索引加一</span><br><span class="line">    pageIndex++</span><br><span class="line">    // 判断是否页码到了最后一个 =&gt; 直接去第一个页码</span><br><span class="line">    if (pageIndex == ul_banner.children.length - 1) &#123;</span><br><span class="line">        pageIndex = 0</span><br><span class="line">        setPageClass(ol_banner_current, pageIndex)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 页码样式</span><br><span class="line">    setPageClass(ol_banner_current, pageIndex)</span><br><span class="line"></span><br><span class="line">    // 调用动画函数</span><br><span class="line">    bannerAnimation(ul_banner, -index * screenWidth)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/baiduSearch/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/baiduSearch/" itemprop="url">百度搜索</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T10:54:25+08:00">2019-05-24 10:54:25</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>案例使用了 本地存储历史记录 搜索联想(纯前端模拟数据 未使用数据库 后续demo会使用～) </p>
<h6 id="JavaScript代码几乎每行都有注释-方便阅读理解思路"><a href="#JavaScript代码几乎每行都有注释-方便阅读理解思路" class="headerlink" title="JavaScript代码几乎每行都有注释 方便阅读理解思路"></a>JavaScript代码几乎每行都有注释 方便阅读理解思路</h6><p><code>github demo 网址 =&gt;</code> <a href="https://github.com/LanHai1/search-baidu" target="_blank" rel="noopener">https://github.com/LanHai1/search-baidu</a><br><img src="https://upload-images.jianshu.io/upload_images/12946880-5c8b72477e75d787.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul>
<li>输入搜索框 注册弹起键盘事件<br>判断是否文本框为空<br>清空之前联想的数据<br>return出去<br>可替换成调用历史提示记录</li>
<li>先清空之前联想的数据</li>
<li>循环遍历联想数据数组<br>判断是否存在联想数据<br>indexOf() &gt; -1<br>将数据通过创建元素追加到页面中去<br>鼠标移入高亮<br>移出恢复原来的背景颜色</li>
<li>search按钮注册点击事件 保存历史记录至本地<br>先获取本地数据<br>默认值 “”<br>判断用户是否未输入<br>判断用户输入的数据是否已经存在<br>return<br>三元表达式判断是否有数据<br>逗号拼接数据<br>将新数据存放回本地储存</li>
<li>历史记录提示<br>给文本框注册获取光标事件<br>先清空之前的历史记录提示<br>获取本地数据<br>默认值 “”<br>字符串方法 split(“,”) 逗号切割字符串<br>用变量接收 返回数组<br>循环遍历数组<br>将数据通过创建元素追加到页面中去<br>鼠标移入高亮<br>移出恢复原来的背景颜色<br>注册鼠标点击事件<br>将当前li的值给文本框<br>给文本框注册失去光标事件<br>设置延时器<br>因为失去光标事件优先执行在点击事件前面<br>清空历史记录</li>
</ul>
<h4 id="xmind图释"><a href="#xmind图释" class="headerlink" title="xmind图释"></a>xmind图释</h4><p><img src="https://upload-images.jianshu.io/upload_images/12946880-5c975b5fbbc91b97.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p><code>结构 样式</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        * &#123;</span><br><span class="line">            padding: 0;</span><br><span class="line">            margin: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        input &#123;</span><br><span class="line">            outline: none;</span><br><span class="line">            box-sizing: border-box;</span><br><span class="line">            height: 40px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            z-index: 9;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .clearfix &#123;</span><br><span class="line">            *z-index: 1;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .clearfix::after &#123;</span><br><span class="line">            content: &quot;&quot;;</span><br><span class="line">            display: block;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            clear: both;</span><br><span class="line">            visibility: hidden;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .cont &#123;</span><br><span class="line">            width: 641px;</span><br><span class="line">            margin: 300px auto;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .fl &#123;</span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .fr &#123;</span><br><span class="line">            float: right;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #txt &#123;</span><br><span class="line">            width: 537px;</span><br><span class="line">            padding: 10px 80px 10px 7px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        #search &#123;</span><br><span class="line">            width: 104px;</span><br><span class="line">            -webkit-appearance: button;</span><br><span class="line">            -moz-appearance: button;</span><br><span class="line">            line-height: 40px;</span><br><span class="line">            font-size: 16px;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">            color: #000;</span><br><span class="line">            border-left: 0;</span><br><span class="line">            background-image: linear-gradient(135deg, #fff8f8, #d3d3d3);</span><br><span class="line">            right: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .ul_search &#123;</span><br><span class="line">            list-style: none;</span><br><span class="line">            width: 639px;</span><br><span class="line">            display: none;</span><br><span class="line">            border: 1px solid #b6b6b6;</span><br><span class="line">            border-top: 0;</span><br><span class="line">            margin-top: -1px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 40px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .ul_search&gt;li &#123;</span><br><span class="line">            padding: 0 10px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            text-overflow: ellipsis;</span><br><span class="line">            white-space: nowrap;</span><br><span class="line">            height: 20px;</span><br><span class="line">            line-height: 20px;</span><br><span class="line">            font-size: 14px;</span><br><span class="line">            cursor: default;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;cont clearfix&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; id=&quot;txt&quot; class=&quot;fl&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;button&quot; value=&quot;百度一下&quot; id=&quot;search&quot; class=&quot;fl&quot;&gt;</span><br><span class="line">        &lt;ul class=&quot;ul_search fl&quot; id=&quot;ul_box&quot;&gt;&lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p><code>JavaScript代码</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 获取id</span><br><span class="line"> * @param &#123;string&#125; id </span><br><span class="line"> */</span><br><span class="line">function $(id) &#123;</span><br><span class="line">    return document.getElementById(id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 联想数据</span><br><span class="line">var keywords = [&quot;林利群&quot;, &quot;林利群为什么很黑&quot;, &quot;林利群的经纪人是周林林吗&quot;, &quot;林利群是谁&quot;, &quot;广东人&quot;, &quot;广东人爱吃&quot;, &quot;广东人爱吃福建人&quot;, &quot;林丹的生平&quot;, &quot;JavaScript&quot;,</span><br><span class="line">    &quot;Java&quot;, &quot;王思聪&quot;, &quot;王健林&quot;, &quot;社会王&quot;, &quot;隔壁老王&quot;, &quot;林绿群&quot;, &quot;你打球像蔡徐坤&quot;, &apos;aaa&apos;, &apos;bbb&apos;, &apos;王祖蓝&apos;, &apos;你打球王祖蓝&apos;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// 键盘弹起事件</span><br><span class="line">$(&quot;txt&quot;).onkeyup = function() &#123;</span><br><span class="line">    // 每次弹起之前先清空之前的联想</span><br><span class="line">    $(&quot;ul_box&quot;).innerHTML = &quot;&quot;</span><br><span class="line"></span><br><span class="line">    // 为空直接跳出函数</span><br><span class="line">    if (this.value.length == 0) &#123;</span><br><span class="line">        // 隐藏ul</span><br><span class="line">        $(&quot;ul_box&quot;).style.display = &quot;none&quot;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 循环遍历 判断是否存在联想</span><br><span class="line">    for (let i = 0; i &lt; keywords.length; i++) &#123;</span><br><span class="line">        // indexOf =&gt; 为空&quot;&quot; 返回0 待处理</span><br><span class="line">        if (keywords[i].indexOf(this.value) != -1) &#123;</span><br><span class="line">            // 存在联想 直接渲染页面</span><br><span class="line">            renderUl(keywords[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 渲染ul下的li</span><br><span class="line"> * @param &#123;array_string&#125; arrString </span><br><span class="line"> */</span><br><span class="line">function renderUl(arrString) &#123;</span><br><span class="line">    let li = document.createElement(&quot;li&quot;)</span><br><span class="line">    li.innerHTML = arrString</span><br><span class="line"></span><br><span class="line">    // 将li追加至ul里面</span><br><span class="line">    $(&quot;ul_box&quot;).appendChild(li)</span><br><span class="line"></span><br><span class="line">    // 显示ul</span><br><span class="line">    $(&quot;ul_box&quot;).style.display = &quot;block&quot;</span><br><span class="line">        // 高亮</span><br><span class="line">    ul_li_syle(li)</span><br><span class="line"></span><br><span class="line">    // 点击 li的值 赋值给 txt</span><br><span class="line">    // 失去光标优先级大于点击 会先执行 </span><br><span class="line">    // 失去光标的时候清空了ul里面的内容 所以这个时候就获取不到数据了</span><br><span class="line">    // 解决方案 给失去光标延时器</span><br><span class="line">    li.onclick = function() &#123;</span><br><span class="line">        $(&quot;txt&quot;).value = this.innerHTML</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 高亮</span><br><span class="line"> * @param &#123;element&#125; el </span><br><span class="line"> */</span><br><span class="line">function ul_li_syle(el) &#123;</span><br><span class="line">    // 高亮</span><br><span class="line">    el.onmouseover = function() &#123;</span><br><span class="line">        this.style.backgroundColor = &quot;#cccccc96&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    el.onmouseout = function() &#123;</span><br><span class="line">        this.style.backgroundColor = &quot;#fff&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 本地存储 -&gt; 历史记录</span><br><span class="line"></span><br><span class="line">// 搜索后保存历史记录至本地</span><br><span class="line">$(&quot;search&quot;).onclick = function() &#123;</span><br><span class="line">    // 为空不保存</span><br><span class="line">    if ($(&quot;txt&quot;).value.length == 0) &#123;</span><br><span class="line">        $(&quot;ul_box&quot;).style.dispaly = &quot;none&quot;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    // 获取数据 =&gt; 进行拼接</span><br><span class="line">    let old_data = localStorage.getItem(&quot;search_baidu&quot;) || &quot;&quot;</span><br><span class="line"></span><br><span class="line">    // 判断数据是否已经存在本地</span><br><span class="line">    if (old_data.indexOf($(&quot;txt&quot;).value) &gt; -1) &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 数据逗号拼接</span><br><span class="line">    // 判断是否右数据 拼接处理</span><br><span class="line">    let new_data = old_data ? `$&#123;old_data&#125;,$&#123;$(&quot;txt&quot;).value&#125;` : $(&quot;txt&quot;).value</span><br><span class="line"></span><br><span class="line">    // 保存数据</span><br><span class="line">    localStorage.setItem(&quot;search_baidu&quot;, new_data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 获取光标 历史记录提示</span><br><span class="line">$(&quot;txt&quot;).onfocus = function() &#123;</span><br><span class="line">    // 获取数据</span><br><span class="line">    let data = localStorage.getItem(&quot;search_baidu&quot;)</span><br><span class="line"></span><br><span class="line">    // 判断是否已经有历史记录</span><br><span class="line">    if (data == null) &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    // 逗号处理</span><br><span class="line">    let arr_data = data.split(&quot;,&quot;).reverse()</span><br><span class="line">    for (let i = 0; i &lt; arr_data.length; i++) &#123;</span><br><span class="line">        renderUl(arr_data[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 失去光标 历史记录移除</span><br><span class="line">$(&quot;txt&quot;).onblur = function() &#123;</span><br><span class="line">    // 延迟执行 失去光标的优先级大于点击事件</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        $(&quot;ul_box&quot;).innerHTML = &quot;&quot;</span><br><span class="line">        $(&quot;ul_box&quot;).style.display = &quot;none&quot;</span><br><span class="line">    &#125;, 200)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/24/magnifying-glass.1/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="蓝海">
        <meta itemprop="description" content="一名正在脱发的前端工程师">
        <meta itemprop="image" content="/images/lanhai.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LanHai bolg">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/05/24/magnifying-glass.1/" itemprop="url">magnifying-glass 放大镜</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-05-24T10:48:34+08:00">2019-05-24 10:48:34</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>本篇讲解仿京东 鼠标移入商品 放大显示</p>
<p>🤪<br><img src="https://upload-images.jianshu.io/upload_images/12946880-d9fb00e800fbcc04.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="效果图"><br><code>git demo =&gt;</code><a href="https://github.com/LanHai1/magnifying-glass" target="_blank" rel="noopener">https://github.com/LanHai1/magnifying-glass</a></p>
<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul>
<li>1- 鼠标移入移出小图盒子 显示和隐藏 mask阴影层 和 大图盒子</li>
<li>2- 为小图盒子添加鼠标移动事件<br>2-1- 为事件对象e做兼容处理<br>2-2- 获取鼠标相对于小盒子里面的x和y<br>2-2-1- offsetX和offsetY 有bug ，自己计算<br>2-2-2- x = e.clientX - 盒子自身到可视区域的left<br>2-2-3- y = e.clientY - 盒子自身到可视区域的top<br>2-2-4- 鼠标在阴影层的中间<br>所以最后计算出来的x和y还要减去 mask阴影层的宽高各一半<br>2-3- 获取阴影盒子的最大和最小移动范围<br>2-3-1- 小盒子宽度 - 阴影盒子的宽度<br>2-3-2- 小盒子高度 - 阴影盒子的高度<br>2-4- 判断最大值和最小值<br>2-4-1- 最小值<br><code>x = x &gt; 0 ? x : 0;</code><br>2-4-2- 最大值<br><code>y = y &lt; maxY ? y : maxY;</code><br>2-5- 将值给mask阴影层的left和top<br>2-6- 实现大图跟着鼠标移动<br>2-6-1- 算出计算比例<br>2-6-1-1- 大图片的宽度 / 小图片的宽度<br>2-6-2- 设置大图的top和left<br>2-6-2-1- 移动的x值乘计算出来的x比例<h4 id="xmind图释"><a href="#xmind图释" class="headerlink" title="xmind图释"></a>xmind图释</h4><img src="https://upload-images.jianshu.io/upload_images/12946880-a7901c9a10a6cd6e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br><code>样式</code><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.box &#123;</span><br><span class="line">    width: 350px;</span><br><span class="line">    height: 350px;</span><br><span class="line">    margin: 100px;</span><br><span class="line">    border: 1px solid #ccc;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.big &#123;</span><br><span class="line">    width: 400px;</span><br><span class="line">    height: 400px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 360px;</span><br><span class="line">    border: 1px solid #ccc;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mask &#123;</span><br><span class="line">    width: 175px;</span><br><span class="line">    height: 175px;</span><br><span class="line">    background: rgba(255, 255, 0, 0.4);</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    cursor: move;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.small &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.box img &#123;</span><br><span class="line">    vertical-align: top;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#bigBox&gt;img &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>结构</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;box&quot; id=&quot;box&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;small&quot; id=&quot;smallBox&quot;&gt;</span><br><span class="line">        &lt;img id=&quot;smallImg&quot; src=&quot;images/001.jpg&quot; width=&quot;350&quot; alt=&quot;&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=&quot;mask&quot; id=&quot;mask&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;big&quot; id=&quot;bigBox&quot;&gt;</span><br><span class="line">        &lt;img id=&quot;bigImg&quot; src=&quot;images/0001.jpg&quot; width=&quot;800&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p><code>行为</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 根据id获取元素</span><br><span class="line"> * @param &#123;*&#125; id </span><br><span class="line"> */</span><br><span class="line">let $ = id =&gt; document.getElementById(id);</span><br><span class="line"></span><br><span class="line">// 鼠标移入移出显示隐藏 mask阴影和大图</span><br><span class="line">$(&quot;smallBox&quot;).onmouseover = function() &#123;</span><br><span class="line">    $(&quot;mask&quot;).style.display = $(&quot;bigBox&quot;).style.display = &quot;block&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">$(&quot;smallBox&quot;).onmouseout = function() &#123;</span><br><span class="line">    $(&quot;mask&quot;).style.display = $(&quot;bigBox&quot;).style.display = &quot;none&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 为小盒子添加鼠标移动事件</span><br><span class="line">$(&quot;smallBox&quot;).onmousemove = function(e) &#123;</span><br><span class="line">    // 事件对象e做兼容</span><br><span class="line">    e = e || window.event;</span><br><span class="line">    // 获取鼠标相对于小盒子里面的x和y</span><br><span class="line">    // offsetX和offsetY有bug 自己计算 </span><br><span class="line">    // x = e.clientX - 盒子自身到可视区域的left</span><br><span class="line">    // y = e.clientY - 盒子自身到可视区域的top </span><br><span class="line">    // 因为想要鼠标在阴影层的中间 所以减去阴影盒子宽高的一半</span><br><span class="line">    let x = e.clientX - $(&quot;smallBox&quot;).getBoundingClientRect()[&quot;left&quot;] - $(&quot;mask&quot;).offsetWidth / 2;</span><br><span class="line">    let y = e.clientY - $(&quot;smallBox&quot;).getBoundingClientRect()[&quot;top&quot;] - $(&quot;mask&quot;).offsetHeight / 2;</span><br><span class="line"></span><br><span class="line">    // 获取阴影盒子最大和最小区域范围</span><br><span class="line">    // 小盒子宽度 - 阴影盒子的宽度</span><br><span class="line">    let maxX = $(&quot;smallBox&quot;).offsetWidth - $(&quot;mask&quot;).offsetWidth;</span><br><span class="line">    let maxY = $(&quot;smallBox&quot;).offsetHeight - $(&quot;mask&quot;).offsetHeight;</span><br><span class="line"></span><br><span class="line">    // 最小值</span><br><span class="line">    x = x &gt; 0 ? x : 0;</span><br><span class="line">    y = y &gt; 0 ? y : 0;</span><br><span class="line"></span><br><span class="line">    // 最大值</span><br><span class="line">    x = x &lt; maxX ? x : maxX;</span><br><span class="line">    y = y &lt; maxY ? y : maxY;</span><br><span class="line"></span><br><span class="line">    setXY($(&quot;mask&quot;), &#123;</span><br><span class="line">        left: x,</span><br><span class="line">        top: y</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    // 大图跟着移动</span><br><span class="line">    // 计算比例 大图片的宽度 / 小图片的宽度</span><br><span class="line">    let xProportion = $(&quot;bigImg&quot;).offsetWidth / $(&quot;smallImg&quot;).offsetWidth;</span><br><span class="line">    let yProportion = $(&quot;bigImg&quot;).offsetHeight / $(&quot;smallImg&quot;).offsetHeight;</span><br><span class="line"></span><br><span class="line">    // 设置对应值 移动的x值乘计算出来的x比例</span><br><span class="line">    setXY($(&quot;bigImg&quot;), &#123;</span><br><span class="line">        left: -x * xProportion,</span><br><span class="line">        top: -y * yProportion</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;;</span><br><span class="line">/**</span><br><span class="line"> * 设置元素的left 和 top</span><br><span class="line"> * @param &#123;element&#125; el </span><br><span class="line"> * @param &#123;json&#125; attrs </span><br><span class="line"> */</span><br><span class="line">function setXY(el, attrs) &#123;</span><br><span class="line">    for (const key in attrs) &#123;</span><br><span class="line">        el.style[key] = `$&#123;attrs[key]&#125;px`;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-angle-right" aria-label="Next Page"></i></a>
  </nav>
  
  
</div>

          </div>
          
          
          
<aside class="sidebar" id="sidebar" style="background: url(/images/background.png);">
  
  <div class="search">
    <div class="form-group">
      <i class="fas fa-search"></i><input type="search" id="search-input" name="q" results="0" placeholder="Search" class="form-control">
    </div>
  </div>
  <div class="search-result-box" id="search-result"></div>
  
  
<div class="info sidebar-item" id="info">
  
  <img class="author-avatar" src="/images/lanhai.jpg" alt="蓝海">
  
  <h1 class="author-name">蓝海</h1>
  <h2 class="author-description">一名正在脱发的前端工程师</h2>
  <div class="site-count">
    
    
    
    
    
  </div>
  
  <div class="rss">
    <a class="rss-link button sidebar-item" href="/atom.xml"><i class="fas fa-rss"></i>RSS</a>
  </div>
  
</div>


  <div class="sidebar-sticky">
    
    
    <hr>
    <div class="social-link sidebar-item">
      <div><i class="far fa-address-card"></i>Social Links<p></p></div>
      <ul>
        
        <li><i class="fab fa-github"></i><a href="https://github.com/LanHai1" target="_blank">GitHub</a></li>
        
        <li><i class="fab fa-weibo"></i><a href="https://weibo.com/" target="_blank">Weibo</a></li>
        
      </ul>
    </div>
    
    
    <hr>
    <div class="blogroll sidebar-item">
      <div><i class="fas fa-link"></i>Blogroll</div>
      <ul>
        
        <li><i class="fas fa-link"></i><a href="https://github.com/LanHai1" target="_blank">GitHub</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://developer.mozilla.org/" target="_blank">MDN</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://www.jianshu.com/u/d8804c6134a6" target="_blank">简书</a></li>
        
      </ul>
    </div>
    
  </div>
</aside>


          
        </div>
      </div>
    </main>
    
<footer id="footer" class="footer" style="background: #33363b;">
  <div class="container">
    <div class="back-to-top">
      <button id="back-to-top"><i class="fas fa-angle-double-up" aria-label="Back to Top"></i></button>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div class="copyright">
          <span class="author">蓝海</span><span class="year"><i class="far fa-copyright"></i>2019</span>
        </div>
        
        <div class="busuanzi">
          <span id="busuanzi_container_site_pv"><i class="fas fa-eye" aria-label="Site Visit Count" aria-hidden="false"></i><span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv"><i class="fas fa-user" aria-label="Site User Count" aria-hidden="false"></i><span id="busuanzi_value_site_uv"></span></span><span id="busuanzi_container_page_pv"><i class="far fa-file-alt"></i><span id="busuanzi_value_page_pv" aria-label="Page Click Count" aria-hidden="false"></span></span>
        </div>
        
      </div>
      <div class="footer-right">
        <div class="custom-info">
          
          托管于<i class="fab fa-github-alt"></i><a href="https://pages.github.com/" target="_blank">GitHub Pages</a>
          
        </div>
        <div class="powered-by">
         
        </div>
      </div>
    </div>
  </div>
</footer>


  </body>
</html>
